{"version":3,"sources":["App.js","actions/getSearchResults.js","actions/subscribeRestaurant.js","actions/unsubscribeRestaurant.js","actions/getLocationData.js","containers/restaurant.js","containers/ShowAlert.js","components/login-page.js","components/search-tab.js","components/subscriptions-tab.js","index.jsx","helpers/url.js","actions/getSubscriptions.js"],"names":["isMobile","test","navigator","userAgent","LAT_DEFAULT","LON_DEFAULT","location","lat","localStorage","getItem","lon","details","getLocation","console","log","geolocation","getCurrentPosition","position","a","changed","coords","latitude","longitude","setItem","getLocationData","addressDetails","setState","myAddress","err","App","showAlert","alertMessage","setTimeout","onLoggedIn","bind","onAddressReset","removeItem","subscribe","name","restaurantId","thinking","JSON","parse","provider","token","setImmediate","subscribeRestaurant","subscriptions","tabKey","unsubscribe","confirm","unsubscribeRestaurant","search","searchTerm","length","getSearchResults","results","searchWasClicked","getRestaurantDiv","title","shortDescription","image","overlay","address","isOpen","searchPage","subscriber","email","onKeyChange","onDisconnect","authData","getSubscriptions","userContext","state","loggedIn","Boolean","this","id","onClick","defaultActiveKey","style","fontSize","activeKey","onSelect","variant","eventKey","message","className","src","Component","restaurantName","Promise","resolve","reject","options","method","url","URL_PREFIX","headers","body","stringify","request","error","response","statusCode","bodyObj","object","parsedBody","Restaurant","props","offline","subscriptionPage","firstName","familyName","imageUrl","ShowAlert","alert","useAlert","Object","keys","LoginPage","performLogin","issueDate","Date","googleResponse","accessToken","facebookResponse","clientId","onSuccess","onFailure","onLoginFailure","render","renderProps","disableMobileRedirect","appId","autoLoad","fields","callback","SearchTab","onSearchRestaurantValueChange","event","searchRestaurantValue","target","value","type","onChange","onKeyDown","e","key","disabled","map","result","track_id","venue","short_description","SubscriptionsTab","subscriptionsResults","subscriptionsDivs","sort","subscriptionA","subscriptionB","isAdmin","subscription","restaurantImage","restaurantAddress","positions","BOTTOM_CENTER","timeout","offset","transition","transitions","SCALE","Root","template","AlertTemplate","ReactDOM","document","getElementById","window","origin","includes"],"mappings":"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","file":"static/js/main.31d54231.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport getSearchResults from './actions/getSearchResults';\nimport subscribeRestaurant from './actions/subscribeRestaurant';\nimport unsubscribeRestaurant from './actions/unsubscribeRestaurant';\nimport getSubscriptions from './actions/getSubscriptions';\nimport getLocationData from './actions/getLocationData';\nimport Restaurant from './containers/restaurant';\nimport ShowAlert from './containers/ShowAlert';\nimport LoginPage from './components/login-page';\nimport SearchTab from './components/search-tab';\nimport SubscriptionsTab from './components/subscriptions-tab';\n\nimport Tabs from 'react-bootstrap/Tabs'\nimport Tab from 'react-bootstrap/Tab'\n\nconst isMobile = ( /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent));\nconst LAT_DEFAULT = '32.083758287943694';\nconst LON_DEFAULT = '34.79441564530133';\nconst location = {\n    lat: localStorage.getItem('lat') || LAT_DEFAULT,\n    lon: localStorage.getItem('lon') || LON_DEFAULT,\n    details: localStorage.getItem('address-details') || '',\n}\n\nfunction getLocation(){\n    console.log('getLocation',location)\n    if (navigator.geolocation)\n    {\n        console.log('navigator.geolocation enabled')\n        navigator.geolocation.getCurrentPosition(async (position)=>{\n            console.log('got position.',position)\n            const changed = (`${location.lat}` !== `${position.coords.latitude}` || `${location.lon}` !== `${position.coords.longitude}`);\n            console.log('changed',changed)\n            location.lat=position.coords.latitude;\n            location.lon=position.coords.longitude;\n            localStorage.setItem('lat', location.lat);\n            localStorage.setItem('lon', location.lon);\n            //if (changed) {\n                const addressDetails = await getLocationData(location.lat, location.lon);\n                location.details = addressDetails;\n                this.setState({ myAddress: addressDetails });\n            //}else{\n              //  this.setState({ myAddress: location.details });\n           // }\n        },(err)=>{\n            console.log('calling getCurrentPosition got error:', err)\n        });\n    }\n    else{\n        console.log('no navigator.geolocation')\n    }\n}\n\nclass App extends Component {\n\n    constructor() {\n        super();\n        setTimeout(async ()=>{\n            const authData = localStorage.getItem('authData');\n            if (authData){\n                const {provider, token } = JSON.parse(authData);\n                if (provider && token) {\n                    const { subscriptions, userContext } = await getSubscriptions(provider, token);\n                    console.log('after getSubscriptions')\n                    this.setState({ subscriptions, email: userContext.email });\n                    this.onLoggedIn();\n                }\n            }\n        },400);\n\n        this.state = {\n            email: null,\n            results:[],\n            subscriptions:[],\n            tabKey:'search',\n            searchWasClicked: false,\n            thinking: false,\n            myAddress: '',\n            alertMessage: null,\n        };\n    }\n    showAlert = (alertMessage) =>{\n        this.setState({alertMessage});\n        setTimeout(()=>{\n            this.setState({alertMessage: null});\n        },2000)\n    }\n    onLoggedIn = () =>{\n        getLocation.bind(this)();\n    }\n    onAddressReset = ()=>{\n        localStorage.removeItem('lat');\n        localStorage.removeItem('lon');\n        localStorage.removeItem('address-details');\n        location.lat = LAT_DEFAULT;\n        location.lon = LON_DEFAULT;\n        this.onLoggedIn();\n    }\n    subscribe = async(name, restaurantId) => {\n        const setState = this.setState.bind(this);\n        setState({ thinking:true });\n        const {provider, token } = JSON.parse(localStorage.getItem('authData'));\n        setImmediate(async ()=>{\n            const subscriptions = await subscribeRestaurant(name, restaurantId, location, provider, token);\n            setState({ thinking:false, subscriptions, tabKey: 'subscriptions' });\n            this.showAlert('הרישום בוצע בהצלחה')\n        })\n    }\n\n    unsubscribe = async(name, restaurantId) => {\n        const setState = this.setState.bind(this);\n        setState({ thinking:true });\n        const {provider, token } = JSON.parse(localStorage.getItem('authData'));\n        setImmediate(async ()=>{\n            if (confirm(\"להסיר את הרישום?\")){\n                const subscriptions = await unsubscribeRestaurant(name, restaurantId, location, provider, token);\n                setState({ thinking:false, subscriptions, tabKey: 'subscriptions' });\n                this.showAlert('הרישום הוסר')\n            }else{\n                setState({ thinking:false });\n            }\n        })\n    }\n\n    search = async(searchTerm) => {\n        if (!searchTerm || searchTerm.length ===0){\n            return;\n        }\n        const setState = this.setState.bind(this);\n        setState({ thinking:true });\n        setImmediate(async ()=>{\n            localStorage.setItem('searchRestaurantValue', searchTerm);\n            const results = await getSearchResults(searchTerm, location);\n            setState({ results, searchWasClicked:true, thinking:false });\n        })\n    }\n\n    getRestaurantDiv = (title,shortDescription, image, overlay,restaurantId, address, isOpen, searchPage, subscriber, email)=>{\n        return <Restaurant\n            title={title}\n            shortDescription={shortDescription}\n            image={image}\n            overlay={overlay}\n            restaurantId={restaurantId}\n            address={address}\n            isOpen={isOpen}\n            searchPage={searchPage}\n            subscriber={subscriber}\n            email={email}\n            subscribe={this.subscribe.bind(this)}\n            unsubscribe={this.unsubscribe.bind(this)}\n        />\n    }\n    onKeyChange = (tabKey)=>{\n        this.setState({tabKey });\n    };\n\n    onDisconnect = () =>{\n        localStorage.removeItem('email');\n        this.setState({ email: null, alertMessage: 'התנתקת'});\n        setTimeout(()=>{\n            this.setState({alertMessage: null});\n        },2000)\n    }\n\n    render() {\n        const loggedIn = Boolean(this.state.email);\n        console.log('loggedIn',loggedIn)\n        return (\n            <div>\n                {!loggedIn && <LoginPage setState={this.setState.bind(this)} onLoggedIn={this.onLoggedIn.bind(this)} showAlert={this.showAlert.bind(this)}/>}\n                {loggedIn && <div>\n                                    <div id=\"login-data\">\n                                        <div>{this.state.email}</div>\n                                        <div> <span id=\"log-out-button\" onClick={this.onDisconnect}>התנתקות</span></div>\n                                    </div>\n                                    <div id=\"main-header\">\n                                       <u>תוסף לוולט</u>\n                                    </div>\n                                    <div id=\"secondary-header\">\n                                           הירשמו לקבל התראה כשמסעדה נפתחת למשלוחים\n                                    </div>\n                                    <Tabs defaultActiveKey=\"search\" id=\"uncontrolled-tab-example\" style={{fontSize: isMobile ? \"0.8em\" : \"1em\"}} activeKey={this.state.tabKey} onSelect={this.onKeyChange} variant=\"pills\">\n                                        <Tab eventKey=\"search\" title=\"חיפוש מסעדות\" >\n                                            <SearchTab search={this.search.bind(this)}\n                                                       myAddress={this.state.myAddress}\n                                                       onAddressReset={this.onAddressReset.bind(this)}\n                                                       searchWasClicked={this.state.searchWasClicked}\n                                                       results={this.state.results}\n                                                       getRestaurantDiv={this.getRestaurantDiv.bind(this)}/>\n\n                                        </Tab>\n                                        <Tab eventKey=\"subscriptions\" title=\"רישומים\" >\n                                           <SubscriptionsTab subscriptions={this.state.subscriptions}\n                                                             getRestaurantDiv={this.getRestaurantDiv.bind(this)}/>\n                                        </Tab>\n                                    </Tabs>\n                            </div>}\n                {this.state.alertMessage && <ShowAlert message={this.state.alertMessage}/>}\n                {this.state.thinking && <div className=\"sivivator\"> <img id=\"sivivator-gif\" src='loading.gif'/></div>}\n            </div>);\n    }\n}\n\nexport default App;\n\n","import request from 'request';\nimport URL_PREFIX from '../helpers/url';\n\nasync function getSearchResults(restaurantName, location) {\n  return new Promise((resolve, reject) => {\n    const options = {\n      method: 'POST',\n      url: `${URL_PREFIX}/search`,\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        restaurantName,\n        location,\n      }),\n    };\n\n    request(options, (error, response, body) => {\n      if (error || response.statusCode >= 400) {\n        if (error) {\n          console.error('request cb error.failed to getSearchResults', error);\n          return reject('failed to get getSearchResults');\n        }\n        const bodyObj = JSON.parse(body);\n        console.error('failed to getSearchResults', bodyObj);\n        return reject(bodyObj.title);\n      }\n      const { results } = JSON.parse(body);\n      return resolve(results);\n    });\n  });\n}\n\nexport default getSearchResults;\n","import request from 'request';\nimport URL_PREFIX from '../helpers/url';\n\nasync function subscribeRestaurant(restaurantName, restaurantId, location, provider, token) {\n  const body = JSON.stringify({\n    restaurantName,\n    restaurantId,\n    location\n  });\n\n  return new Promise((resolve, reject) => {\n    const options = {\n      method: 'POST',\n      url: `${URL_PREFIX}/subscriptions`,\n      headers: {\n        provider,\n        'x-auth-token': token,\n        'Content-Type': 'application/json',\n      },\n      body,\n    };\n\n    request(options, (error, response, body) => {\n      if (error || response.statusCode >= 400) {\n        if (error) {\n          console.error('request cb error.failed to get subscribeRestaurant', error);\n          return reject('failed to get subscribeRestaurant');\n        }\n        const bodyObj = typeof body === object ? body : JSON.parse(body);\n        console.error('failed to subscribeRestaurant data', bodyObj);\n        return reject(bodyObj.title);\n      }\n      const parsedBody = JSON.parse(body);\n      console.log('subscribeRestaurant, parsedBody',parsedBody)\n      localStorage.setItem('email', parsedBody.userContext.email);\n      return resolve(parsedBody.subscriptions);\n    });\n  });\n}\n\nexport default subscribeRestaurant;\n","import request from 'request';\nimport URL_PREFIX from '../helpers/url';\n\nasync function unsubscribeRestaurant(restaurantName, restaurantId, location, provider, token) {\n  const body = JSON.stringify({\n    restaurantName,\n    restaurantId,\n    location,\n  });\n\n  return new Promise((resolve, reject) => {\n    const options = {\n      method: 'POST',\n      url: `${URL_PREFIX}/unsubscribe`,\n      headers: {\n        provider,\n        'x-auth-token': token,\n        'Content-Type': 'application/json',\n      },\n      body,\n    };\n\n    request(options, (error, response, body) => {\n      if (error || response.statusCode >= 400) {\n        if (error) {\n          console.error('request cb error.failed to get unsubscribeRestaurant', error);\n          return reject('failed to get unsubscribeRestaurant');\n        }\n        const bodyObj = typeof body === object ? body : JSON.parse(body);\n        console.error('failed to unsubscribeRestaurant data', bodyObj);\n        return reject(bodyObj.title);\n      }\n      const parsedBody = JSON.parse(body);\n      console.log('unsubscribeRestaurant, parsedBody',parsedBody)\n      localStorage.setItem('email', parsedBody.userContext.email);\n      return resolve(parsedBody.subscriptions);\n    });\n  });\n}\n\nexport default unsubscribeRestaurant;\n","import request from 'request';\nimport URL_PREFIX from \"../helpers/url\";\n\nasync function getLocationData(lat, lon) {\n  return new Promise((resolve, reject) => {\n    const options = {\n      method: 'GET',\n      url: `${URL_PREFIX}/location-address?lat=${lat}&lon=${lon}`,\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    };\n\n    request(options, (error, response, body) => {\n      if (error || response.statusCode >= 400) {\n        if (error) {\n          console.error('request cb error.failed to getLocationData', error);\n          return reject('failed to get getLocationData');\n        }\n        const bodyObj = JSON.parse(body);\n        console.error('failed to getLocationData', bodyObj);\n        return reject(bodyObj.title);\n      }\n      console.log('body type', typeof body)\n      console.log('body ',  body)\n      const { address } = JSON.parse(body);\n      return resolve(address);\n    });\n  });\n}\n\nexport default getLocationData;\n","import React from 'react';\nconst isMobile = ( /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent));\n\nconst Restaurant = (props) => {\n    const offline = !props.isOpen;\n    const subscriptionPage = !props.searchPage;\n    return <div key={`rest_${props.searchPage}_${props.restaurantId}`} className={`col-xs-6 restaurant-result-div ${offline ?'offline':''} ${ isMobile ? 'mobile-width' : ''}`} onClick={()=> offline && props.searchPage ? props.subscribe(props.title, props.restaurantId) : subscriptionPage ? props.unsubscribe(props.title, props.restaurantId) : ()=>{}}>\n        <div> <img src={props.image}/></div>\n        <div className=\"rest-data\">\n            <div className=\"restaurant-title\">{props.title}</div>\n            <div className=\"restaurant-short-description\">{props.shortDescription}</div>\n\n            <div className=\"restaurant-address\">{props.address}</div>\n            {props.overlay && props.overlay.length ? <div className=\"overlay\">{props.overlay}</div> : <span></span>}\n            {offline && props.searchPage ? <div className=\"action-prompt\">לחץ לרישום</div>: <span></span> }\n            {subscriptionPage  ? <div className=\"action-prompt\">להסרת רישום</div>: <span></span> }\n            {props.subscriber ? <div>\n                <div> { props.subscriber.firstName} { props.subscriber.familyName}</div>\n                <div className=\"email-data\">({props.subscriber.email})</div>\n                <div> <img src={ props.subscriber.imageUrl}/></div>\n            </div>:<div></div>}\n        </div>\n    </div>\n}\n\nexport default Restaurant;\n","import React from 'react'\nimport { useAlert } from 'react-alert'\n\nconst ShowAlert = (props) => {\n    const alert = useAlert();\n    const {message} = props;\n    setTimeout(()=>{\n            alert.error(message);\n            console.log('alert attributes', Object.keys(alert))\n    },1);\n    return (\n        <div/>\n    )\n}\n\nexport default ShowAlert;\n","import React, { Component } from 'react';\nimport getSubscriptions from '../actions/getSubscriptions';\nimport FacebookLogin from  'react-facebook-login/dist/facebook-login-render-props';\nconst GOOGLE_CLIENT_ID= '79744445247-r6hecpeic6csggbl5c40isiqfshf15l7.apps.googleusercontent.com';\nconst FACEBOOK_APP_ID= '4683699325055690';\nimport { GoogleLogin } from 'react-google-login';\n\nclass LoginPage extends Component {\n\n    performLogin = async (provider, token) => {\n        try{\n            const {subscriptions, userContext} = await getSubscriptions(provider, token);\n            this.props.setState({ subscriptions, email: userContext.email, thinking:false });\n            const issueDate  = new Date();\n            localStorage.setItem('authData', JSON.stringify({provider, token, issueDate }));\n            localStorage.setItem('email', userContext.email);\n            this.props.onLoggedIn();\n        } catch(error) {\n            localStorage.removeItem('authData');\n            console.log('error', error)\n            this.props.showAlert('ההתחברות נכשלה');\n            this.props.setState({ thinking:false });\n        }\n    };\n\n    googleResponse = (response) => {\n        if (response.accessToken){\n            this.performLogin('google', response.accessToken);\n        }else{\n            console.error('google login failure');\n        }\n\n    };\n    facebookResponse = (response) => {\n        if (response.accessToken){\n            this.performLogin('facebook', response.accessToken);\n        }else{\n            console.error('facebook login failure');\n        }\n\n    };\n    render() {//setState, onLoggedIn\n            return <div id=\"login-page\">\n                <div id=\"login-page-header\">\n                    התחברות\n                </div>\n                <div id=\"login-body\">\n                    <div>\n                        <GoogleLogin\n                        clientId={GOOGLE_CLIENT_ID}\n                        onSuccess={this.googleResponse}\n                        onFailure={this.onLoginFailure}\n                        render={renderProps => (\n                            <div className=\"login-button login-button-google\" onClick={renderProps.onClick}> התחבר באמצעות גוגל</div>\n                        )}\n                    />\n                    </div>\n                    <div>\n                        <FacebookLogin\n                        disableMobileRedirect={true}\n                        appId={FACEBOOK_APP_ID}\n                        autoLoad={false}\n                        fields=\"name,email\"\n                        callback={this.facebookResponse}\n                        render={renderProps => (\n                            <div id=\"fbButton\" className=\"login-button login-button-fb\" onClick={renderProps.onClick}> התחבר באמצעות פייסבוק</div>\n                        )}/>\n                    </div>\n                </div>\n                <div id=\"explained\">\n                    <div id=\"explained-header\">\n                        <hr/>\n                        ככה זה עובד:\n                        <hr/>\n                    </div>\n                    <div className=\"row\">\n                        <div className=\"col-xs-4 \">\n                            <div className=\"explained-sub-header\">\n                                כשמחפשים מסעדה בוולט\n                            </div>\n                            <div className=\"explained-sub-header\">\n                                 היא לפעמים סגורה\n                            </div>\n                            <div >\n                                <img src=\"./wolt1.jpeg\"/>\n                            </div>\n                        </div>\n                        <div className=\"col-xs-4 \">\n                            <div className=\"explained-sub-header\">\n                                אבל אם נכנסים רואים שזה רק זמני\n                            </div>\n                            <div >\n                                <img src=\"./wolt2.jpeg\"/>\n                            </div>\n                        </div>\n                        <div className=\"col-xs-4 \">\n                            <div className=\"explained-sub-header\">\n                                אז מחפשים את המסעדה פה באתר\n                            </div>\n                            <div className=\"explained-sub-header\">\n                                ונרשמים לעדכון עבורה\n                            </div>\n                            <div >\n                                <img src=\"./wolt3.jpeg\"/>\n                            </div>\n                        </div>\n                        <div className=\"col-xs-4 \">\n                            <div className=\"explained-sub-header\">\n                                וכשהמסעדה נפתחת מקבלים עדכון במייל\n                            </div>\n\n                            <div >\n                                <img src=\"./wolt4.jpeg\"/>\n                            </div>\n                        </div>\n                        <div className=\"col-xs-4 \">\n                            <div className=\"explained-sub-header\">\n                                ואז נכנסים שוב ומזמינים רגיל דרך הוולט\n                            </div>\n                            <div >\n                                <img src=\"./wolt5.jpeg\"/>\n                            </div>\n                        </div>\n                        <div className=\"col-xs-4 \">\n                            <div className=\"explained-sub-header\">\n                                האתר לא קשור בשום צורה לחברת וולט,\n                            </div>\n                            <div className=\"explained-sub-header\">\n                                וכנראה יירד כשהם יתמכו באפשרות הזאת בעצמם\n                            </div>\n                            <div className=\"explained-sub-header email-address\">\n                                green.gilad@gmail.com\n                            </div>\n\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n    }\n}\n\nexport default LoginPage;\n\n","import React, { Component } from 'react';\n\nclass SearchTab extends Component {\n    constructor() {\n        super();\n        const searchRestaurantValue = localStorage.getItem('searchRestaurantValue') || '';\n        this.state = {\n            searchRestaurantValue,\n        };\n    }\n    onSearchRestaurantValueChange = (event) => {\n        this.setState({ searchRestaurantValue: event.target.value });\n    }\n    render() {\n        return  <div>\n            <div id=\"search-restaurant-div\">\n                <input type=\"text\" id=\"search-restaurant-input\" value={this.state.searchRestaurantValue} onChange={this.onSearchRestaurantValueChange} onKeyDown={(e)=>{\n                    console.log('e.key',e.key)\n                    if (e.key === 'Enter') {\n                        this.props.search(this.state.searchRestaurantValue)\n                    }\n                }}/>\n                <button id=\"search-restaurant-button\"  onClick={()=>this.props.search(this.state.searchRestaurantValue)} disabled={this.state.searchRestaurantValue.length === 0}>חיפוש</button>\n            </div>\n            <div id=\"my-address-div\">\n                {this.props.myAddress ? <span id=\"address-info-text\">חיפוש על פי הכתובת: {this.props.myAddress}  </span> : <span></span> }\n                {this.props.myAddress ? <span id=\"reset-address\" onClick={this.props.onAddressReset}>אפס</span> : <span></span>}\n            </div>\n            <div id=\"search-results\">\n                { this.props.searchWasClicked ? <div>\n                    <span className=\"spaced-span\">  נמצאו</span>\n                    {this.props.results.length}\n\n                    <span className=\"spaced-span\">  תוצאות</span>\n                </div> : <div></div>}\n                <div className=\"row\">\n                    {\n                        this.props.results.map((result) =>{\n                            const {title, image: {url: image}, overlay, track_id: restaurantId, venue: { address, short_description}, isOpen }= result;\n                            return this.props.getRestaurantDiv(title, short_description, image, overlay,restaurantId, address, isOpen, true);\n                        })\n                    }\n                </div>\n            </div>\n        </div>\n\n    }\n}\n\nexport default SearchTab;\n\n","import React, { Component } from 'react';\n\nclass SubscriptionsTab extends Component {\n\n    render() {\n        const subscriptionsResults = this.props.subscriptions;\n        let subscriptionsDivs = <div></div>;\n        if (subscriptionsResults.length > 0) {\n\n            const subscriptionsHasSubscriberInfo = subscriptionsResults[0].subscriber;\n            const subscriptions = subscriptionsHasSubscriberInfo\n                ? subscriptionsResults.sort((subscriptionA, subscriptionB)=>{\n                    if (subscriptionA.isAdmin) return -1;\n                    if (subscriptionB.isAdmin) return 1;\n                    return 0;\n                }) : subscriptionsResults;\n\n            subscriptionsDivs = subscriptions.map(subscription =>{\n                const { restaurantName: title, restaurantImage: image, restaurantId, restaurantAddress: address, subscriber, email  } = subscription;\n                if (subscriber){\n                    subscriber.isAdmin = subscription.isAdmin;\n                }\n                return this.props.getRestaurantDiv(title,'', image, null,restaurantId, address, false, false, subscriber, email);\n            })\n        }\n        return <div>\n            <div  id=\"subscriptions-results\">\n                <span className=\"spaced-span\">  נמצאו</span>\n                {subscriptionsResults.length}\n            </div>\n            <div className=\"row\">\n                {subscriptionsDivs}\n            </div>\n        </div>\n    }\n}\n\nexport default SubscriptionsTab;\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { transitions, positions, Provider as AlertProvider } from 'react-alert';\nimport AlertTemplate from 'react-alert-template-basic';\n\nimport './style/app.css';\n\nconst options = {\n    // you can also just use 'bottom center'\n    position: positions.BOTTOM_CENTER,\n    timeout: 3000,\n    offset: '30px',\n    // you can also just use 'scale'\n    transition: transitions.SCALE\n}\n\nconst Root = () => (\n    <AlertProvider template={AlertTemplate} {...options}>\n        <App />\n    </AlertProvider>\n)\n\n\nReactDOM.render(\n    <Root/>,\n  document.getElementById('root')\n);\n","const URL_PREFIX = window.location.origin.includes('localhost') ? 'https://wolt-wrapper.herokuapp.com' : window.location.origin;\n\nexport default URL_PREFIX\n","\nimport request from 'request';\nimport URL_PREFIX from '../helpers/url';\n\nasync function getSubscriptions(provider, token) {\n  return new Promise((resolve, reject) => {\n    const options = {\n      method: 'GET',\n      url: `${URL_PREFIX}/subscriptions`,\n      headers: {\n        provider,\n        'x-auth-token': token,\n        'Content-Type': 'application/json',\n      }\n    };\n\n    request(options, (error, response, body) => {\n      if (error || response.statusCode >= 400) {\n        if (error) {\n          console.error('request cb error.failed to get getSubscriptions', error);\n          return reject('failed to get getSubscriptions');\n        }\n        const bodyObj = typeof body === 'object' ? body : JSON.parse(body);\n        console.error('failed to getSubscriptions data', bodyObj);\n        return reject(bodyObj.title);\n      }\n      const parsedBody = JSON.parse(body);\n      return resolve(parsedBody);\n    });\n  });\n}\n\nexport default getSubscriptions;\n"],"sourceRoot":""}