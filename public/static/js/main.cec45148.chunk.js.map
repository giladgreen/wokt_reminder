{"version":3,"sources":["actions/getSearchResults.js","actions/getSubscriptions.js","App.js","actions/subscribeRestaurant.js","actions/unsubscribeRestaurant.js","actions/getLocationData.js","index.jsx","actions/url.js"],"names":["restaurantName","location","a","Promise","resolve","reject","options","method","url","URL_PREFIX","headers","body","JSON","stringify","request","error","response","statusCode","console","bodyObj","parse","title","results","getSearchResults","provider","token","parsedBody","getSubscriptions","isMobile","test","navigator","userAgent","lat","localStorage","getItem","lon","details","getLocation","geolocation","getCurrentPosition","position","changed","coords","latitude","longitude","log","setItem","getLocationData","addressDetails","setState","myAddress","err","App","onLoggedIn","bind","onSearchRestaurantValueChange","event","searchRestaurantValue","target","value","checkForChanges","state","subscriptions","forEach","subscription","result","find","i","track_id","restaurantId","isOpen","Audio","play","tabKey","alert","this","subscribe","name","thinking","setImmediate","subscribeRestaurant","unsubscribe","confirm","unsubscribeRestaurant","search","length","searchWasClicked","getRestaurantDiv","shortDescription","image","overlay","address","searchPage","subscriber","email","offline","className","onClick","src","firstName","familyName","imageUrl","onKeyChange","onLoginFailure","performLogin","userContext","issueDate","Date","removeItem","googleResponse","accessToken","facebookResponse","setTimeout","authData","Boolean","id","clientId","onSuccess","onFailure","render","renderProps","disableMobileRedirect","appId","autoLoad","fields","callback","subscriptionsDivs","sort","subscriptionA","subscriptionB","isAdmin","map","restaurantImage","restaurantAddress","defaultActiveKey","style","fontSize","activeKey","onSelect","variant","eventKey","type","onChange","onKeyDown","e","key","disabled","venue","short_description","Component","object","formatted_address","positions","BOTTOM_CENTER","timeout","offset","transition","transitions","SCALE","Root","template","AlertTemplate","ReactDOM","document","getElementById","window","origin","includes"],"mappings":"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","file":"static/js/main.cec45148.chunk.js","sourcesContent":["\nimport request from 'request';\n\nimport URL_PREFIX from './url';\nasync function getSearchResults(restaurantName, location) {\n  return new Promise((resolve, reject) => {\n    const options = {\n      method: 'POST',\n      url: `${URL_PREFIX}/search`,\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        restaurantName,\n        location,\n      }),\n    };\n\n    request(options, (error, response, body) => {\n      if (error || response.statusCode >= 400) {\n        if (error) {\n          console.error('request cb error.failed to getSearchResults', error);\n          return reject('failed to get getSearchResults');\n        }\n        const bodyObj = JSON.parse(body);\n        console.error('failed to getSearchResults', bodyObj);\n        return reject(bodyObj.title);\n      }\n      const { results } = JSON.parse(body);\n      return resolve(results);\n    });\n  });\n}\n\nexport default getSearchResults;\n","\nimport request from 'request';\nimport URL_PREFIX from './url';\n\nasync function getSubscriptions(provider, token) {\n  return new Promise((resolve, reject) => {\n    const options = {\n      method: 'GET',\n      url: `${URL_PREFIX}/subscriptions`,\n      headers: {\n        provider,\n        'x-auth-token': token,\n        'Content-Type': 'application/json',\n      }\n    };\n\n    request(options, (error, response, body) => {\n      if (error || response.statusCode >= 400) {\n        if (error) {\n          console.error('request cb error.failed to get getSubscriptions', error);\n          return reject('failed to get getSubscriptions');\n        }\n        const bodyObj = typeof body === 'object' ? body : JSON.parse(body);\n        console.error('failed to getSubscriptions data', bodyObj);\n        return reject(bodyObj.title);\n      }\n      const parsedBody = JSON.parse(body);\n      return resolve(parsedBody);\n    });\n  });\n}\n\nexport default getSubscriptions;\n","/* eslint-disable no-lone-blocks */\n/* eslint-disable no-restricted-globals */\nimport React, { Component } from 'react';\nimport getSearchResults from './actions/getSearchResults';\nimport subscribeRestaurant from './actions/subscribeRestaurant';\nimport unsubscribeRestaurant from './actions/unsubscribeRestaurant';\nimport getSubscriptions from './actions/getSubscriptions';\nimport getLocationData from './actions/getLocationData';\nimport FacebookLogin from  'react-facebook-login/dist/facebook-login-render-props';\nconst GOOGLE_CLIENT_ID= '79744445247-r6hecpeic6csggbl5c40isiqfshf15l7.apps.googleusercontent.com';\nconst FACEBOOK_APP_ID= '4683699325055690';\nconst MY_MAIL = 'green.gilad@gmail.com';\nimport { GoogleLogin } from 'react-google-login';\nimport Tabs from 'react-bootstrap/Tabs'\nimport Tab from 'react-bootstrap/Tab'\n\nconst isMobile = ( /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent));\nconst location = {\n    lat: localStorage.getItem('lat') || '32.083758287943695',\n    lon: localStorage.getItem('lon') || '34.79441564530134',\n    details: localStorage.getItem('address-details') || '',\n}\nfunction beep() {\n    var snd = new Audio(\"data:audio/wav;base64,//uQRAAAAWMSLwUIYAAsYkXgoQwAEaYLWfkWgAI0wWs/ItAAAGDgYtAgAyN+QWaAAihwMWm4G8QQRDiMcCBcH3Cc+CDv/7xA4Tvh9Rz/y8QADBwMWgQAZG/ILNAARQ4GLTcDeIIIhxGOBAuD7hOfBB3/94gcJ3w+o5/5eIAIAAAVwWgQAVQ2ORaIQwEMAJiDg95G4nQL7mQVWI6GwRcfsZAcsKkJvxgxEjzFUgfHoSQ9Qq7KNwqHwuB13MA4a1q/DmBrHgPcmjiGoh//EwC5nGPEmS4RcfkVKOhJf+WOgoxJclFz3kgn//dBA+ya1GhurNn8zb//9NNutNuhz31f////9vt///z+IdAEAAAK4LQIAKobHItEIYCGAExBwe8jcToF9zIKrEdDYIuP2MgOWFSE34wYiR5iqQPj0JIeoVdlG4VD4XA67mAcNa1fhzA1jwHuTRxDUQ//iYBczjHiTJcIuPyKlHQkv/LHQUYkuSi57yQT//uggfZNajQ3Vmz+Zt//+mm3Wm3Q576v////+32///5/EOgAAADVghQAAAAA//uQZAUAB1WI0PZugAAAAAoQwAAAEk3nRd2qAAAAACiDgAAAAAAABCqEEQRLCgwpBGMlJkIz8jKhGvj4k6jzRnqasNKIeoh5gI7BJaC1A1AoNBjJgbyApVS4IDlZgDU5WUAxEKDNmmALHzZp0Fkz1FMTmGFl1FMEyodIavcCAUHDWrKAIA4aa2oCgILEBupZgHvAhEBcZ6joQBxS76AgccrFlczBvKLC0QI2cBoCFvfTDAo7eoOQInqDPBtvrDEZBNYN5xwNwxQRfw8ZQ5wQVLvO8OYU+mHvFLlDh05Mdg7BT6YrRPpCBznMB2r//xKJjyyOh+cImr2/4doscwD6neZjuZR4AgAABYAAAABy1xcdQtxYBYYZdifkUDgzzXaXn98Z0oi9ILU5mBjFANmRwlVJ3/6jYDAmxaiDG3/6xjQQCCKkRb/6kg/wW+kSJ5//rLobkLSiKmqP/0ikJuDaSaSf/6JiLYLEYnW/+kXg1WRVJL/9EmQ1YZIsv/6Qzwy5qk7/+tEU0nkls3/zIUMPKNX/6yZLf+kFgAfgGyLFAUwY//uQZAUABcd5UiNPVXAAAApAAAAAE0VZQKw9ISAAACgAAAAAVQIygIElVrFkBS+Jhi+EAuu+lKAkYUEIsmEAEoMeDmCETMvfSHTGkF5RWH7kz/ESHWPAq/kcCRhqBtMdokPdM7vil7RG98A2sc7zO6ZvTdM7pmOUAZTnJW+NXxqmd41dqJ6mLTXxrPpnV8avaIf5SvL7pndPvPpndJR9Kuu8fePvuiuhorgWjp7Mf/PRjxcFCPDkW31srioCExivv9lcwKEaHsf/7ow2Fl1T/9RkXgEhYElAoCLFtMArxwivDJJ+bR1HTKJdlEoTELCIqgEwVGSQ+hIm0NbK8WXcTEI0UPoa2NbG4y2K00JEWbZavJXkYaqo9CRHS55FcZTjKEk3NKoCYUnSQ0rWxrZbFKbKIhOKPZe1cJKzZSaQrIyULHDZmV5K4xySsDRKWOruanGtjLJXFEmwaIbDLX0hIPBUQPVFVkQkDoUNfSoDgQGKPekoxeGzA4DUvnn4bxzcZrtJyipKfPNy5w+9lnXwgqsiyHNeSVpemw4bWb9psYeq//uQZBoABQt4yMVxYAIAAAkQoAAAHvYpL5m6AAgAACXDAAAAD59jblTirQe9upFsmZbpMudy7Lz1X1DYsxOOSWpfPqNX2WqktK0DMvuGwlbNj44TleLPQ+Gsfb+GOWOKJoIrWb3cIMeeON6lz2umTqMXV8Mj30yWPpjoSa9ujK8SyeJP5y5mOW1D6hvLepeveEAEDo0mgCRClOEgANv3B9a6fikgUSu/DmAMATrGx7nng5p5iimPNZsfQLYB2sDLIkzRKZOHGAaUyDcpFBSLG9MCQALgAIgQs2YunOszLSAyQYPVC2YdGGeHD2dTdJk1pAHGAWDjnkcLKFymS3RQZTInzySoBwMG0QueC3gMsCEYxUqlrcxK6k1LQQcsmyYeQPdC2YfuGPASCBkcVMQQqpVJshui1tkXQJQV0OXGAZMXSOEEBRirXbVRQW7ugq7IM7rPWSZyDlM3IuNEkxzCOJ0ny2ThNkyRai1b6ev//3dzNGzNb//4uAvHT5sURcZCFcuKLhOFs8mLAAEAt4UWAAIABAAAAAB4qbHo0tIjVkUU//uQZAwABfSFz3ZqQAAAAAngwAAAE1HjMp2qAAAAACZDgAAAD5UkTE1UgZEUExqYynN1qZvqIOREEFmBcJQkwdxiFtw0qEOkGYfRDifBui9MQg4QAHAqWtAWHoCxu1Yf4VfWLPIM2mHDFsbQEVGwyqQoQcwnfHeIkNt9YnkiaS1oizycqJrx4KOQjahZxWbcZgztj2c49nKmkId44S71j0c8eV9yDK6uPRzx5X18eDvjvQ6yKo9ZSS6l//8elePK/Lf//IInrOF/FvDoADYAGBMGb7FtErm5MXMlmPAJQVgWta7Zx2go+8xJ0UiCb8LHHdftWyLJE0QIAIsI+UbXu67dZMjmgDGCGl1H+vpF4NSDckSIkk7Vd+sxEhBQMRU8j/12UIRhzSaUdQ+rQU5kGeFxm+hb1oh6pWWmv3uvmReDl0UnvtapVaIzo1jZbf/pD6ElLqSX+rUmOQNpJFa/r+sa4e/pBlAABoAAAAA3CUgShLdGIxsY7AUABPRrgCABdDuQ5GC7DqPQCgbbJUAoRSUj+NIEig0YfyWUho1VBBBA//uQZB4ABZx5zfMakeAAAAmwAAAAF5F3P0w9GtAAACfAAAAAwLhMDmAYWMgVEG1U0FIGCBgXBXAtfMH10000EEEEEECUBYln03TTTdNBDZopopYvrTTdNa325mImNg3TTPV9q3pmY0xoO6bv3r00y+IDGid/9aaaZTGMuj9mpu9Mpio1dXrr5HERTZSmqU36A3CumzN/9Robv/Xx4v9ijkSRSNLQhAWumap82WRSBUqXStV/YcS+XVLnSS+WLDroqArFkMEsAS+eWmrUzrO0oEmE40RlMZ5+ODIkAyKAGUwZ3mVKmcamcJnMW26MRPgUw6j+LkhyHGVGYjSUUKNpuJUQoOIAyDvEyG8S5yfK6dhZc0Tx1KI/gviKL6qvvFs1+bWtaz58uUNnryq6kt5RzOCkPWlVqVX2a/EEBUdU1KrXLf40GoiiFXK///qpoiDXrOgqDR38JB0bw7SoL+ZB9o1RCkQjQ2CBYZKd/+VJxZRRZlqSkKiws0WFxUyCwsKiMy7hUVFhIaCrNQsKkTIsLivwKKigsj8XYlwt/WKi2N4d//uQRCSAAjURNIHpMZBGYiaQPSYyAAABLAAAAAAAACWAAAAApUF/Mg+0aohSIRobBAsMlO//Kk4soosy1JSFRYWaLC4qZBYWFRGZdwqKiwkNBVmoWFSJkWFxX4FFRQWR+LsS4W/rFRb/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////VEFHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAU291bmRib3kuZGUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMjAwNGh0dHA6Ly93d3cuc291bmRib3kuZGUAAAAAAAAAACU=\");\n    snd.play();\n}\n\nfunction getLocation(){\n    if (navigator.geolocation)\n    {\n\n        navigator.geolocation.getCurrentPosition(async (position)=>{\n            const changed = (location.lat !== position.coords.latitude || location.lon !== position.coords.longitude);\n            console.log('getLocation changed',  changed)\n            location.lat=position.coords.latitude;\n            location.lon=position.coords.longitude;\n            localStorage.setItem('lat', location.lat);\n            localStorage.setItem('lon', location.lon);\n            if (changed){\n                const addressDetails = await getLocationData(location.lat, location.lon);\n                console.log('#### addressDetails', addressDetails);\n                localStorage.setItem('address-details', addressDetails);\n                location.details = addressDetails;\n\n                this.setState({ myAddress: addressDetails });\n            }else{\n                this.setState({ myAddress: location.details });\n            }\n\n        },(err)=>{\n            console.log('calling getCurrentPosition got error:', err)\n        });\n    }\n    else{\n        console.log('no navigator.geolocation')\n    }\n}\n\nclass App extends Component {\n\n    constructor() {\n        super();\n\n        const searchRestaurantValue = localStorage.getItem('searchRestaurantValue') || '';\n        setTimeout(async ()=>{\n            const authData = localStorage.getItem('authData');\n            if (authData){\n                const {provider, token } = JSON.parse(authData);\n                if (provider && token) {\n                    const { subscriptions, userContext } = await getSubscriptions(provider, token)\n                    this.setState({ subscriptions, email: userContext.email });\n                    this.onLoggedIn();\n                }\n            }\n        },400)\n        this.state = {\n            email: null,\n            searchRestaurantValue,\n            results:[],\n            subscriptions:[],\n            tabKey:'search',\n            searchWasClicked: false,\n            thinking: false,\n            myAddress: '',\n        };\n    }\n    onLoggedIn = () =>{\n        getLocation.bind(this)();\n    }\n    onSearchRestaurantValueChange = (event) => {\n        this.setState({ searchRestaurantValue: event.target.value });\n    }\n\n    checkForChanges = async() => {\n        const setState = this.setState.bind(this);\n        if (!this.state.subscriptions) return;\n        this.state.subscriptions.forEach(async (subscription)=>{\n            const results = await getSearchResults(subscription.restaurantName, { lat: subscription.lat, lon: subscription.lon });\n            const result = results.find(i => i.track_id === subscription.restaurantId);\n            if (result && result.isOpen) {\n                beep();\n                setState({ tabKey: 'search' });\n                alert(`${subscription.restaurantName} is now open`);\n            } else{\n                console.log('still close', subscription.restaurantName)\n            }\n        })\n    }\n    subscribe = async(name, restaurantId) => {\n        const setState = this.setState.bind(this);\n        setState({ thinking:true });\n        const {provider, token } = JSON.parse(localStorage.getItem('authData'));\n\n        setImmediate(async ()=>{\n            console.log('about to subscribe for restaurant:', name, restaurantId)\n            const subscriptions = await subscribeRestaurant(name, restaurantId, location, provider, token);\n            console.log('subscriptions:', subscriptions);\n            setState({ thinking:false, subscriptions, tabKey: 'subscriptions' });\n        })\n    }\n    unsubscribe = async(name, restaurantId) => {\n        const setState = this.setState.bind(this);\n        setState({ thinking:true });\n        const {provider, token } = JSON.parse(localStorage.getItem('authData'));\n\n        setImmediate(async ()=>{\n            if (confirm(\"להסיר את הרישום?\")){\n                console.log('about to unsubscribe for restaurant:', name, restaurantId);\n                const subscriptions = await unsubscribeRestaurant(name, restaurantId, location, provider, token);\n                console.log('subscriptions:', subscriptions);\n                setState({ thinking:false, subscriptions, tabKey: 'subscriptions' });\n            }else{\n                setState({ thinking:false });\n            }\n\n\n        })\n    }\n\n    search = async() => {\n        if (!this.state.searchRestaurantValue || this.state.searchRestaurantValue.length ===0){\n            console.log('can not search for empty', this.state.searchRestaurantValue);\n            return;\n        }\n        const setState = this.setState.bind(this);\n        setState({ thinking:true });\n        setImmediate(async ()=>{\n            console.log('about to search for restaurant:', this.state.searchRestaurantValue)\n            localStorage.setItem('searchRestaurantValue', this.state.searchRestaurantValue);\n            const results = await getSearchResults(this.state.searchRestaurantValue, location);\n            setState({ results, searchWasClicked:true, thinking:false });\n        })\n    }\n\n    getRestaurantDiv = (title,shortDescription, image, overlay,restaurantId, address, isOpen, searchPage, subscriber, email)=>{\n        if (!searchPage){\n            console.log('getRestaurantDiv', title, image, overlay,restaurantId, address, isOpen, searchPage)\n            console.log('subscriber', subscriber)\n        }\n\n        const offline = !isOpen;\n\n        return <div key={title} className={`col-xs-6 restaurant-result-div ${offline ?'offline':''} ${ isMobile ? 'mobile-width' : ''}`} onClick={()=> offline && searchPage ? this.subscribe(title, restaurantId) : !searchPage && this.state.email === email ? this.unsubscribe(title, restaurantId) : ()=>{}}>\n            <div> <img src={image}/></div>\n            <div className=\"rest-data\">\n                <div className=\"restaurant-title\">{title}</div>\n                <div className=\"restaurant-short-description\">{shortDescription}</div>\n\n                <div className=\"restaurant-address\">{address}</div>\n                {overlay && overlay.length ? <div className=\"overlay\">{overlay}</div> : <span></span>}\n                {offline && searchPage ? <div className=\"action-prompt\">לחץ לרישום</div>: <span></span> }\n                {!searchPage && this.state.email === email ? <div className=\"action-prompt\">להסרת רישום</div>: <span></span> }\n                {!searchPage && this.state.email === MY_MAIL ? <div className=\"email-data\">({email})</div>: <span></span> }\n                {subscriber ? <div>\n                    <div> { subscriber.firstName} { subscriber.familyName}</div>\n                    <div> <img src={ subscriber.imageUrl}/></div>\n                </div>:<div></div>}\n            </div>\n\n        </div>\n    }\n    onKeyChange = (tabKey)=>{\n        this.setState({tabKey });\n    };\n    onLoginFailure = (error) => {\n        console.error('App onFailure', error);\n    };\n    performLogin = async (provider, token) => {\n        const setState = this.setState.bind(this);\n        setState({ thinking:true });\n        setImmediate(async ()=>{\n            try{\n                const {subscriptions, userContext} = await getSubscriptions(provider, token);\n                this.setState({ subscriptions, email: userContext.email, thinking:false });\n                const issueDate  = new Date();\n                localStorage.setItem('authData', JSON.stringify({provider, token, issueDate }));\n                localStorage.setItem('email', userContext.email);\n                this.onLoggedIn();\n            } catch(error) {\n                localStorage.removeItem('authData');\n                console.log('error', error)\n                alert('failed to login');\n                setState({ thinking:false });\n            }\n        })\n    };\n\n    googleResponse = (response) => {\n        if (response.accessToken){\n            this.performLogin('google', response.accessToken);\n        }else{\n            this.onLoginFailure('login failed')\n        }\n\n    };\n    facebookResponse = (response) => {\n        if (response.accessToken){\n            this.performLogin('facebook', response.accessToken);\n        }else{\n            this.onLoginFailure('login failed')\n        }\n\n    };\n    render() {\n\n        const loggedIn = Boolean(this.state.email);\n        if (!loggedIn){\n\n\n            return <div id=\"login-page\">\n                <div id=\"login-page-header\">\n                    התחברות\n                </div>\n                <div id=\"login-body\">\n                    <div>\n                        <GoogleLogin\n                        clientId={GOOGLE_CLIENT_ID}\n                        onSuccess={this.googleResponse}\n                        onFailure={this.onLoginFailure}\n                        render={renderProps => (\n                            <div className=\"login-button login-button-google\" onClick={renderProps.onClick}> התחבר באמצעות גוגל</div>\n                        )}\n                    />\n                    </div>\n                    <div>\n                        <FacebookLogin\n                        disableMobileRedirect={true}\n                        appId={FACEBOOK_APP_ID}\n                        autoLoad={false}\n                        fields=\"name,email\"\n                        callback={this.facebookResponse}\n                        render={renderProps => (\n                            <div id=\"fbButton\" className=\"login-button login-button-fb\" onClick={renderProps.onClick}> התחבר באמצעות פייסבוק</div>\n                        )}/>\n                    </div>\n                </div>\n                <div id=\"explained\">\n                    <div id=\"explained-header\">\n                        <hr/>\n                        ככה זה עובד:\n                        <hr/>\n                    </div>\n                    <div className=\"row\">\n                        <div className=\"col-xs-4 \">\n                            <div className=\"explained-sub-header\">\n                                כשמחפשים מסעדה בוולט\n                            </div>\n                            <div className=\"explained-sub-header\">\n                                 היא לפעמים סגורה\n                            </div>\n                            <div >\n                                <img src=\"./wolt1.jpeg\"/>\n                            </div>\n                        </div>\n                        <div className=\"col-xs-4 \">\n                            <div className=\"explained-sub-header\">\n                                אבל אם נכנסים רואים שזה רק זמני\n                            </div>\n                            <div >\n                                <img src=\"./wolt2.jpeg\"/>\n                            </div>\n                        </div>\n                        <div className=\"col-xs-4 \">\n                            <div className=\"explained-sub-header\">\n                                אז מחפשים את המסעדה פה באתר\n                            </div>\n                            <div className=\"explained-sub-header\">\n                                ונרשמים לעדכון עבורה\n                            </div>\n                            <div >\n                                <img src=\"./wolt3.jpeg\"/>\n                            </div>\n                        </div>\n                        <div className=\"col-xs-4 \">\n                            <div className=\"explained-sub-header\">\n                                וכשהמסעדה נפתחת מקבלים עדכון במייל\n                            </div>\n\n                            <div >\n                                <img src=\"./wolt4.jpeg\"/>\n                            </div>\n                        </div>\n                        <div className=\"col-xs-4 \">\n                            <div className=\"explained-sub-header\">\n                                ואז נכנסים שוב ומזמינים רגיל דרך הוולט\n                            </div>\n                            <div >\n                                <img src=\"./wolt5.jpeg\"/>\n                            </div>\n                        </div>\n                        <div className=\"col-xs-4 \">\n                            <div className=\"explained-sub-header\">\n                                האתר לא קשור בשום צורה לחברת וולט,\n                            </div>\n                            <div className=\"explained-sub-header\">\n\n                                וכנראה יירד כשהם יתמכו באפשרות הזאת בעצמם\n                            </div>\n\n                            <div className=\"explained-sub-header email-address\">\n\n                                green.gilad@gmail.com\n                            </div>\n\n                        </div>\n                    </div>\n\n\n\n                </div>\n            </div>\n        }\n\n        let subscriptionsDivs = <div></div>;\n        if (this.state.subscriptions.length) {\n            console.log('this.state.subscriptions', this.state.subscriptions)\n            const subscriptions = this.state.subscriptions[0].subscriber\n                ? this.state.subscriptions.sort((subscriptionA, subscriptionB)=>{\n                    if (subscriptionA.isAdmin) return -1;\n                    if (subscriptionB.isAdmin) return 1;\n                    return 0;\n                }) : this.state.subscriptions;\n\n            console.log('subscriptions', subscriptions)\n            subscriptionsDivs = subscriptions.map(subscription =>{\n                console.log('subscription', subscription)\n                const { restaurantName: title, restaurantImage: image, restaurantId, restaurantAddress: address, subscriber, email  } = subscription;\n                if (subscriber){\n                    subscriber.isAdmin = subscription.isAdmin;\n                }\n                return this.getRestaurantDiv(title,'', image, null,restaurantId, address, false, false, subscriber, email);\n            })\n        }\n\n        return (\n            <div>\n                <div id=\"login-data\">\n                    {this.state.email}<br/>\n                    <span id=\"log-out-button\" onClick={()=>{\n                        localStorage.removeItem('email');\n                        this.setState({ email: null});\n                    }}>התנתקות</span><br/>\n\n                </div>\n                <div id=\"main-header\">\n                   <u>תוסף לוולט</u>\n                </div>\n                <div id=\"secondary-header\">\nהירשמו לקבל התראה כשמסעדה נפתחת למשלוחים\n                </div>\n                <Tabs defaultActiveKey=\"search\" id=\"uncontrolled-tab-example\" style={{fontSize: isMobile ? \"0.8em\" : \"1em\"}} activeKey={this.state.tabKey} onSelect={this.onKeyChange} variant=\"pills\">\n                    <Tab eventKey=\"search\" title=\"חיפוש מסעדות\" >\n                        <div>\n                            <div id=\"search-restaurant-div\">\n                                <input type=\"text\" id=\"search-restaurant-input\" value={this.state.searchRestaurantValue} onChange={this.onSearchRestaurantValueChange} onKeyDown={(e)=>{\n                                    console.log('e.key',e.key)\n                                    if (e.key === 'Enter') {\n                                        this.search()\n                                    }\n                                }}/>\n                                <button id=\"search-restaurant-button\"  onClick={this.search} disabled={this.state.searchRestaurantValue.length === 0}>חיפוש</button>\n                            </div>\n                            <div id=\"my-address-div\">\n                                {this.state.myAddress ? <span id=\"address-info-text\">חיפוש על פי הכתובת: {this.state.myAddress}  </span> : <span></span> }\n                                {this.state.myAddress ? <span id=\"reset-address\" onClick={()=>{\n                                    localStorage.removeItem('lat');\n                                    localStorage.removeItem('lon');\n                                    localStorage.removeItem('address-details');\n                                    this.onLoggedIn();\n                                }\n                                }>אפס</span> : <span></span>}\n                            </div>\n                            <div id=\"search-results\">\n                                { this.state.searchWasClicked ? <div>\n                                   <span className=\"spaced-span\">  נמצאו</span>\n                                    {this.state.results.length}\n\n                                    <span className=\"spaced-span\">  תוצאות</span>\n                                </div> : <div></div>}\n                                <div className=\"row\">\n                                    {\n                                        this.state.results.map((result) =>{\n                                            const {title, image: {url: image}, overlay, track_id: restaurantId, venue: { address, short_description}, isOpen }= result;\n                                            return this.getRestaurantDiv(title, short_description, image, overlay,restaurantId, address, isOpen, true);\n                                        })\n                                    }\n                                </div>\n                            </div>\n                        </div>\n                    </Tab>\n                    <Tab eventKey=\"subscriptions\" title=\"רישומים\" >\n                        <div>\n                            <div  id=\"subscriptions-results\">\n                                <span className=\"spaced-span\">  נמצאו</span>\n                                {this.state.subscriptions.length}\n                            </div>\n                            <div className=\"row\">\n                                {subscriptionsDivs}\n                            </div>\n                        </div>\n                    </Tab>\n                </Tabs>\n\n                {this.state.thinking ? <div className=\"sivivator\"> <img id=\"sivivator-gif\" src='loading.gif'/></div>: <div></div>}\n\n            </div>);\n\n    }\n}\n\nexport default App;\n\n","\nimport request from 'request';\nimport URL_PREFIX from './url';\n\nasync function subscribeRestaurant(restaurantName, restaurantId, location, provider, token) {\n  const body = JSON.stringify({\n    restaurantName,\n    restaurantId,\n    location\n  });\n\n  return new Promise((resolve, reject) => {\n    const options = {\n      method: 'POST',\n      url: `${URL_PREFIX}/subscriptions`,\n      headers: {\n        provider,\n        'x-auth-token': token,\n        'Content-Type': 'application/json',\n      },\n      body,\n    };\n\n    request(options, (error, response, body) => {\n      if (error || response.statusCode >= 400) {\n        if (error) {\n          console.error('request cb error.failed to get subscribeRestaurant', error);\n          return reject('failed to get subscribeRestaurant');\n        }\n        const bodyObj = typeof body === object ? body : JSON.parse(body);\n        console.error('failed to subscribeRestaurant data', bodyObj);\n        return reject(bodyObj.title);\n      }\n      const parsedBody = JSON.parse(body);\n      console.log('subscribeRestaurant, parsedBody',parsedBody)\n      localStorage.setItem('email', parsedBody.userContext.email);\n      return resolve(parsedBody.subscriptions);\n    });\n  });\n}\n\nexport default subscribeRestaurant;\n","\nimport request from 'request';\nimport URL_PREFIX from './url';\n\nasync function unsubscribeRestaurant(restaurantName, restaurantId, location, provider, token) {\n  const body = JSON.stringify({\n    restaurantName,\n    restaurantId,\n    location,\n  });\n\n  return new Promise((resolve, reject) => {\n    const options = {\n      method: 'POST',\n      url: `${URL_PREFIX}/unsubscribe`,\n      headers: {\n        provider,\n        'x-auth-token': token,\n        'Content-Type': 'application/json',\n      },\n      body,\n    };\n\n    request(options, (error, response, body) => {\n      if (error || response.statusCode >= 400) {\n        if (error) {\n          console.error('request cb error.failed to get unsubscribeRestaurant', error);\n          return reject('failed to get unsubscribeRestaurant');\n        }\n        const bodyObj = typeof body === object ? body : JSON.parse(body);\n        console.error('failed to unsubscribeRestaurant data', bodyObj);\n        return reject(bodyObj.title);\n      }\n      const parsedBody = JSON.parse(body);\n      console.log('unsubscribeRestaurant, parsedBody',parsedBody)\n      localStorage.setItem('email', parsedBody.userContext.email);\n      return resolve(parsedBody.subscriptions);\n    });\n  });\n}\n\nexport default unsubscribeRestaurant;\n","import request from 'request';\n\nasync function getLocationData(lat, lon) {\n  return new Promise((resolve, reject) => {\n    const options = {\n      method: 'GET',\n      url: `https://maps.googleapis.com/maps/api/geocode/json?latlng=${lat},${lon}&key=AIzaSyDETKwQl9ihdbQaNYYngJ7tpM2f2pQlxLI&language=he&region=IL`,\n    };\n\n    request(options, (error, response, body) => {\n      const result = JSON.parse(body).results;\n     // console.log('result',result)\n      const address = result[0].formatted_address;\n      return resolve(address);\n    });\n  });\n}\n\nexport default getLocationData;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { transitions, positions, Provider as AlertProvider } from 'react-alert';\nimport AlertTemplate from 'react-alert-template-basic';\n\nimport './style/app.css';\n\nconst options = {\n    // you can also just use 'bottom center'\n    position: positions.BOTTOM_CENTER,\n    timeout: 3000,\n    offset: '30px',\n    // you can also just use 'scale'\n    transition: transitions.SCALE\n}\n\nconst Root = () => (\n    <AlertProvider template={AlertTemplate} {...options}>\n        <App />\n    </AlertProvider>\n)\n\n\nReactDOM.render(\n    <Root/>,\n  document.getElementById('root')\n);\n","const URL_PREFIX = window.location.origin.includes('localhost') ? 'https://wolt-wrapper.herokuapp.com' : window.location.origin; //https://wolt-wrapper.herokuapp.com' // 'http://localhost:5002'\n\nexport default URL_PREFIX\n"],"sourceRoot":""}