(this["webpackJsonpfront-poker"]=this["webpackJsonpfront-poker"]||[]).push([[0],{124:function(e,t,n){"use strict";var r=n(5),a=n.n(r),s=n(14),i=n(39),o=n.n(i),c=n(40);function u(){return(u=Object(s.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){var a={method:"POST",url:"".concat(c.a,"/search"),headers:{"Content-Type":"application/json"},body:JSON.stringify({restaurantName:t,location:n})};o()(a,(function(t,n,a){if(t||n.statusCode>=400){if(t)return console.error("request cb error.failed to getSearchResults",t),r("failed to get getSearchResults");var s=JSON.parse(a);return console.error("failed to getSearchResults",s),r(s.title)}var i=JSON.parse(a).results;return e(i)}))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.a=function(e,t){return u.apply(this,arguments)}},125:function(e,t,n){"use strict";var r=n(5),a=n.n(r),s=n(14),i=n(39),o=n.n(i),c=n(40);function u(){return(u=Object(s.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){var a={method:"GET",url:"".concat(c.a,"/subscriptions"),headers:{provider:t,"x-auth-token":n,"Content-Type":"application/json"}};o()(a,(function(t,n,a){if(t||n.statusCode>=400){if(t)return console.error("request cb error.failed to get getSubscriptions",t),r("failed to get getSubscriptions");var s="object"===typeof a?a:JSON.parse(a);return console.error("failed to getSubscriptions data",s),r(s.title)}var i=JSON.parse(a);return e(i)}))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.a=function(e,t){return u.apply(this,arguments)}},209:function(e,t,n){"use strict";(function(e){var r=n(5),a=n.n(r),s=n(14),i=n(210),o=n(211),c=n(43),u=n(219),l=n(218),A=n(0),b=n(124),d=n(212),p=n(213),f=n(125),g=n(214),h=n.n(g),j=n(215),m=n(217),v=n(126),O=n(1),x=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),k={lat:localStorage.getItem("lat")||"32.083758287943695",lon:localStorage.getItem("lon")||"34.79441564530134"};function S(){navigator.geolocation?(console.log("calling getCurrentPosition"),navigator.geolocation.getCurrentPosition((function(e){k.lat=e.coords.latitude,k.lon=e.coords.longitude,localStorage.setItem("lat",k.lat),localStorage.setItem("lon",k.lon)}),(function(e){console.log("calling getCurrentPosition got error:",e)}))):console.log("no navigator.geolocation")}var I=function(t){Object(u.a)(r,t);var n=Object(l.a)(r);function r(){var t;Object(i.a)(this,r),(t=n.call(this)).onSearchRestaurantValueChange=function(e){t.setState({searchRestaurantValue:e.target.value})},t.checkForChanges=Object(s.a)(a.a.mark((function e(){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.setState.bind(Object(c.a)(t)),t.state.subscriptions){e.next=3;break}return e.abrupt("return");case 3:t.state.subscriptions.forEach(function(){var e=Object(s.a)(a.a.mark((function e(t){var r,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.a)(t.restaurantName,{lat:t.lat,lon:t.lon});case 2:r=e.sent,(s=r.find((function(e){return e.track_id===t.restaurantId})))&&s.isOpen?(new Audio("data:audio/wav;base64,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qJrx4KOQjahZxWbcZgztj2c49nKmkId44S71j0c8eV9yDK6uPRzx5X18eDvjvQ6yKo9ZSS6l//8elePK/Lf//IInrOF/FvDoADYAGBMGb7FtErm5MXMlmPAJQVgWta7Zx2go+8xJ0UiCb8LHHdftWyLJE0QIAIsI+UbXu67dZMjmgDGCGl1H+vpF4NSDckSIkk7Vd+sxEhBQMRU8j/12UIRhzSaUdQ+rQU5kGeFxm+hb1oh6pWWmv3uvmReDl0UnvtapVaIzo1jZbf/pD6ElLqSX+rUmOQNpJFa/r+sa4e/pBlAABoAAAAA3CUgShLdGIxsY7AUABPRrgCABdDuQ5GC7DqPQCgbbJUAoRSUj+NIEig0YfyWUho1VBBBA//uQZB4ABZx5zfMakeAAAAmwAAAAF5F3P0w9GtAAACfAAAAAwLhMDmAYWMgVEG1U0FIGCBgXBXAtfMH10000EEEEEECUBYln03TTTdNBDZopopYvrTTdNa325mImNg3TTPV9q3pmY0xoO6bv3r00y+IDGid/9aaaZTGMuj9mpu9Mpio1dXrr5HERTZSmqU36A3CumzN/9Robv/Xx4v9ijkSRSNLQhAWumap82WRSBUqXStV/YcS+XVLnSS+WLDroqArFkMEsAS+eWmrUzrO0oEmE40RlMZ5+ODIkAyKAGUwZ3mVKmcamcJnMW26MRPgUw6j+LkhyHGVGYjSUUKNpuJUQoOIAyDvEyG8S5yfK6dhZc0Tx1KI/gviKL6qvvFs1+bWtaz58uUNnryq6kt5RzOCkPWlVqVX2a/EEBUdU1KrXLf40GoiiFXK///qpoiDXrOgqDR38JB0bw7SoL+ZB9o1RCkQjQ2CBYZKd/+VJxZRRZlqSkKiws0WFxUyCwsKiMy7hUVFhIaCrNQsKkTIsLivwKKigsj8XYlwt/WKi2N4d//uQRCSAAjURNIHpMZBGYiaQPSYyAAABLAAAAAAAACWAAAAApUF/Mg+0aohSIRobBAsMlO//Kk4soosy1JSFRYWaLC4qZBYWFRGZdwqKiwkNBVmoWFSJkWFxX4FFRQWR+LsS4W/rFRb/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////VEFHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAU291bmRib3kuZGUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMjAwNGh0dHA6Ly93d3cuc291bmRib3kuZGUAAAAAAAAAACU=").play(),n({tabKey:"search"}),alert("".concat(t.restaurantName," is now open"))):console.log("still close",t.restaurantName);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:case"end":return e.stop()}}),e)}))),t.subscribe=function(){var n=Object(s.a)(a.a.mark((function n(r,i){var o,u,l,A;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:(o=t.setState.bind(Object(c.a)(t)))({thinking:!0}),u=JSON.parse(localStorage.getItem("authData")),l=u.provider,A=u.token,e(Object(s.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("about to subscribe for restaurant:",r,i),e.next=3,Object(d.a)(r,i,k,l,A);case 3:t=e.sent,console.log("subscriptions:",t),o({thinking:!1,subscriptions:t,tabKey:"subscriptions"});case 6:case"end":return e.stop()}}),e)}))));case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),t.unsubscribe=function(){var n=Object(s.a)(a.a.mark((function n(r,i){var o,u,l,A;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:(o=t.setState.bind(Object(c.a)(t)))({thinking:!0}),u=JSON.parse(localStorage.getItem("authData")),l=u.provider,A=u.token,e(Object(s.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!confirm("Unsubscribe?")){e.next=9;break}return console.log("about to unsubscribe for restaurant:",r,i),e.next=4,Object(p.a)(r,i,k,l,A);case 4:t=e.sent,console.log("subscriptions:",t),o({thinking:!1,subscriptions:t,tabKey:"subscriptions"}),e.next=10;break;case 9:o({thinking:!1});case 10:case"end":return e.stop()}}),e)}))));case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),t.search=Object(s.a)(a.a.mark((function n(){var r;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:(r=t.setState.bind(Object(c.a)(t)))({thinking:!0}),e(Object(s.a)(a.a.mark((function e(){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("about to search for restaurant:",t.state.searchRestaurantValue),localStorage.setItem("searchRestaurantValue",t.state.searchRestaurantValue),e.next=4,Object(b.a)(t.state.searchRestaurantValue,k);case 4:n=e.sent,r({results:n,searchWasClicked:!0,thinking:!1});case 6:case"end":return e.stop()}}),e)}))));case 3:case"end":return n.stop()}}),n)}))),t.getRestaurantDiv=function(e,n,r,a,s,i,o,c,u,l){c||(console.log("getRestaurantDiv",e,r,a,s,i,o,c),console.log("subscriber",u));var A=!o;return Object(O.jsxs)("div",{className:"col-xs-6 restaurant-result-div ".concat(A?"offline":""," ").concat(x?"mobile-width":""),onClick:function(){return A&&c?t.subscribe(e,s):c||t.state.email!==l?function(){}:t.unsubscribe(e,s)},children:[Object(O.jsxs)("div",{children:[" ",Object(O.jsx)("img",{src:r})]}),Object(O.jsx)("div",{className:"restaurant-title",children:e}),Object(O.jsx)("div",{className:"restaurant-short-description",children:n}),Object(O.jsx)("div",{className:"restaurant-address",children:i}),a&&a.length?Object(O.jsx)("div",{className:"overlay",children:a}):Object(O.jsx)("span",{}),A&&c?Object(O.jsx)("div",{className:"action-prompt",children:"Click to Subscribe"}):Object(O.jsx)("span",{}),c||t.state.email!==l?Object(O.jsx)("span",{}):Object(O.jsx)("div",{className:"action-prompt",children:"Click to Unsubscribe"}),c||"green.gilad@gmail.com"!==t.state.email?Object(O.jsx)("span",{}):Object(O.jsxs)("div",{className:"email-data",children:["(",l,")"]}),u?Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{children:[" ",u.firstName," ",u.familyName]}),Object(O.jsxs)("div",{children:[" ",Object(O.jsx)("img",{src:u.imageUrl})]})]}):Object(O.jsx)("div",{})]},e)},t.onKeyChange=function(e){t.setState({tabKey:e})},t.onLoginFailure=function(e){console.error("App onFailure",e)},t.performLogin=function(){var n=Object(s.a)(a.a.mark((function n(r,i){var o;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:(o=t.setState.bind(Object(c.a)(t)))({thinking:!0}),e(Object(s.a)(a.a.mark((function e(){var n,s,c,u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(f.a)(r,i);case 3:n=e.sent,s=n.subscriptions,c=n.userContext,t.setState({subscriptions:s,email:c.email,thinking:!1}),u=new Date,localStorage.setItem("authData",JSON.stringify({provider:r,token:i,issueDate:u})),localStorage.setItem("email",c.email),e.next=18;break;case 12:e.prev=12,e.t0=e.catch(0),localStorage.removeItem("authData"),console.log("error",e.t0),alert("failed to login"),o({thinking:!1});case 18:case"end":return e.stop()}}),e,null,[[0,12]])}))));case 3:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),t.googleResponse=function(e){e.accessToken?t.performLogin("google",e.accessToken):t.onLoginFailure("login failed")},t.facebookResponse=function(e){e.accessToken?t.performLogin("facebook",e.accessToken):t.onLoginFailure("login failed")},setTimeout(S,500);var o=localStorage.getItem("searchRestaurantValue")||"";return setTimeout(Object(s.a)(a.a.mark((function e(){var n,r,s,i,o,c,u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=localStorage.getItem("authData"))){e.next=10;break}if(r=JSON.parse(n),s=r.provider,i=r.token,!s||!i){e.next=10;break}return e.next=6,Object(f.a)(s,i);case 6:o=e.sent,c=o.subscriptions,u=o.userContext,t.setState({subscriptions:c,email:u.email});case 10:case"end":return e.stop()}}),e)}))),400),t.state={email:null,searchRestaurantValue:o,results:[],subscriptions:[],tabKey:"search",searchWasClicked:!1,thinking:!1},t}return Object(o.a)(r,[{key:"render",value:function(){var e=this;if(console.log("render, state:",this.state),!Boolean(this.state.email))return Object(O.jsxs)("div",{id:"login-page",children:[Object(O.jsx)("div",{id:"login-page-header",children:"login page"}),Object(O.jsxs)("div",{id:"login-body",children:[Object(O.jsx)("div",{children:Object(O.jsx)(j.GoogleLogin,{clientId:"79744445247-r6hecpeic6csggbl5c40isiqfshf15l7.apps.googleusercontent.com",onSuccess:this.googleResponse,onFailure:this.onLoginFailure,render:function(e){return Object(O.jsx)("div",{className:"login-button login-button-google",onClick:e.onClick,children:" LOGIN WITH GOOGLE"})}})}),Object(O.jsx)("div",{children:Object(O.jsx)(h.a,{disableMobileRedirect:!0,appId:"4683699325055690",autoLoad:!1,fields:"name,email",callback:this.facebookResponse,render:function(e){return Object(O.jsx)("div",{id:"fbButton",className:"login-button login-button-fb",onClick:e.onClick,children:" LOGIN WITH FACEBOOK"})}})})]})]});var t=Object(O.jsx)("div",{});if(this.state.subscriptions.length){console.log("this.state.subscriptions",this.state.subscriptions);var n=this.state.subscriptions[0].subscriber?this.state.subscriptions.sort((function(e,t){return e.isAdmin?-1:t.isAdmin?1:0})):this.state.subscriptions;console.log("subscriptions",n),t=n.map((function(t){console.log("subscription",t);var n=t.restaurantName,r=t.restaurantImage,a=t.restaurantId,s=t.restaurantAddress,i=t.subscriber,o=t.email;return i&&(i.isAdmin=t.isAdmin),e.getRestaurantDiv(n,"",r,null,a,s,!1,!1,i,o)}))}return Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{id:"login-data",children:[this.state.email,Object(O.jsx)("br",{}),Object(O.jsx)("span",{id:"log-out-button",onClick:function(){localStorage.removeItem("email"),e.setState({email:null})},children:"log out"})]}),Object(O.jsx)("div",{children:Object(O.jsx)("h1",{children:Object(O.jsx)("u",{children:"Wolt Helper"})})}),Object(O.jsxs)(m.a,{defaultActiveKey:"search",id:"uncontrolled-tab-example",style:{fontSize:x?"0.8em":"1em"},activeKey:this.state.tabKey,onSelect:this.onKeyChange,variant:"pills",children:[Object(O.jsx)(v.a,{eventKey:"search",title:"search",children:Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{id:"search-restaurant-div",children:[Object(O.jsx)("input",{type:"text",id:"search-restaurant-input",value:this.state.searchRestaurantValue,onChange:this.onSearchRestaurantValueChange}),Object(O.jsx)("button",{id:"search-restaurant-button",onClick:this.search,disabled:0===this.state.searchRestaurantValue.length,children:"search"})]}),Object(O.jsxs)("div",{id:"search-results",children:[this.state.searchWasClicked?Object(O.jsxs)("div",{children:[this.state.results.length," restaurants found."]}):Object(O.jsx)("div",{}),Object(O.jsx)("div",{className:"row",children:this.state.results.map((function(t){var n=t.title,r=t.image.url,a=t.overlay,s=t.track_id,i=t.venue,o=i.address,c=i.short_description,u=t.isOpen;return e.getRestaurantDiv(n,c,r,a,s,o,u,!0)}))})]})]})}),Object(O.jsx)(v.a,{eventKey:"subscriptions",title:"subscriptions",children:Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{children:[this.state.subscriptions.length," subscriptions"]}),Object(O.jsx)("div",{className:"row",children:t})]})})]}),this.state.thinking?Object(O.jsxs)("div",{className:"sivivator",children:[" ",Object(O.jsx)("img",{id:"sivivator-gif",src:"loading.gif"})]}):Object(O.jsx)("div",{})]})}}]),r}(A.Component);t.a=I}).call(this,n(70).setImmediate)},212:function(e,t,n){"use strict";var r=n(5),a=n.n(r),s=n(14),i=n(39),o=n.n(i),c=n(40);function u(){return(u=Object(s.a)(a.a.mark((function e(t,n,r,s,i){var u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=JSON.stringify({restaurantName:t,restaurantId:n,location:r}),e.abrupt("return",new Promise((function(e,t){var n={method:"POST",url:"".concat(c.a,"/subscriptions"),headers:{provider:s,"x-auth-token":i,"Content-Type":"application/json"},body:u};o()(n,(function(n,r,a){if(n||r.statusCode>=400){if(n)return console.error("request cb error.failed to get subscribeRestaurant",n),t("failed to get subscribeRestaurant");var s=typeof a===object?a:JSON.parse(a);return console.error("failed to subscribeRestaurant data",s),t(s.title)}var i=JSON.parse(a);return console.log("subscribeRestaurant, parsedBody",i),localStorage.setItem("email",i.userContext.email),e(i.subscriptions)}))})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.a=function(e,t,n,r,a){return u.apply(this,arguments)}},213:function(e,t,n){"use strict";var r=n(5),a=n.n(r),s=n(14),i=n(39),o=n.n(i),c=n(40);function u(){return(u=Object(s.a)(a.a.mark((function e(t,n,r,s,i){var u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=JSON.stringify({restaurantName:t,restaurantId:n,location:r}),e.abrupt("return",new Promise((function(e,t){var n={method:"POST",url:"".concat(c.a,"/unsubscribe"),headers:{provider:s,"x-auth-token":i,"Content-Type":"application/json"},body:u};o()(n,(function(n,r,a){if(n||r.statusCode>=400){if(n)return console.error("request cb error.failed to get unsubscribeRestaurant",n),t("failed to get unsubscribeRestaurant");var s=typeof a===object?a:JSON.parse(a);return console.error("failed to unsubscribeRestaurant data",s),t(s.title)}var i=JSON.parse(a);return console.log("unsubscribeRestaurant, parsedBody",i),localStorage.setItem("email",i.userContext.email),e(i.subscriptions)}))})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.a=function(e,t,n,r,a){return u.apply(this,arguments)}},220:function(e,t,n){"use strict";n.r(t);var r=n(127),a=(n(0),n(42)),s=n.n(a),i=n(209),o=n(83),c=n(216),u=(n(450),n(1)),l={position:o.b.BOTTOM_CENTER,timeout:3e3,offset:"30px",transition:o.c.SCALE},A=function(){return Object(u.jsx)(o.a,Object(r.a)(Object(r.a)({template:c.a},l),{},{children:Object(u.jsx)(i.a,{})}))};s.a.render(Object(u.jsx)(A,{}),document.getElementById("root"))},240:function(e,t){},242:function(e,t){},251:function(e,t){},253:function(e,t){},278:function(e,t){},280:function(e,t){},281:function(e,t){},286:function(e,t){},288:function(e,t){},307:function(e,t){},319:function(e,t){},322:function(e,t){},327:function(e,t){},329:function(e,t){},352:function(e,t){},40:function(e,t,n){"use strict";var r=window.location.origin.includes("localhost")?"https://wolt-wrapper.herokuapp.com":window.location.origin;t.a=r},450:function(e,t,n){}},[[220,1,2]]]);
//# sourceMappingURL=main.a734570e.chunk.js.map