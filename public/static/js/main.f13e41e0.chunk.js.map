{"version":3,"sources":["App.js","actions/getSearchResults.js","actions/subscribeRestaurant.js","actions/unsubscribeRestaurant.js","actions/getLocationData.js","containers/restaurant.js","components/login-page.js","components/search-tab.js","components/subscriptions-tab.js","index.jsx","helpers/url.js","actions/getSubscriptions.js"],"names":["isMobile","test","navigator","userAgent","location","lat","localStorage","getItem","lon","details","getLocation","geolocation","getCurrentPosition","position","a","changed","coords","latitude","longitude","setItem","getLocationData","addressDetails","setState","myAddress","err","console","log","App","onLoggedIn","bind","subscribe","name","restaurantId","thinking","JSON","parse","provider","token","setImmediate","subscribeRestaurant","subscriptions","tabKey","unsubscribe","confirm","unsubscribeRestaurant","search","searchTerm","length","getSearchResults","results","searchWasClicked","getRestaurantDiv","title","shortDescription","image","overlay","address","isOpen","searchPage","subscriber","email","onKeyChange","onDisconnect","removeItem","setTimeout","authData","getSubscriptions","userContext","state","Boolean","this","id","onClick","defaultActiveKey","style","fontSize","activeKey","onSelect","variant","eventKey","className","src","Component","restaurantName","Promise","resolve","reject","options","method","url","URL_PREFIX","headers","body","stringify","request","error","response","statusCode","bodyObj","object","parsedBody","Restaurant","offline","props","subscriptionPage","firstName","familyName","imageUrl","LoginPage","performLogin","issueDate","Date","alert","googleResponse","accessToken","facebookResponse","clientId","onSuccess","onFailure","onLoginFailure","render","renderProps","disableMobileRedirect","appId","autoLoad","fields","callback","SearchTab","onSearchRestaurantValueChange","event","searchRestaurantValue","target","value","type","onChange","onKeyDown","e","key","disabled","map","result","track_id","venue","short_description","SubscriptionsTab","subscriptionsResults","subscriptionsDivs","sort","subscriptionA","subscriptionB","isAdmin","subscription","restaurantImage","restaurantAddress","positions","BOTTOM_CENTER","timeout","offset","transition","transitions","SCALE","Root","template","AlertTemplate","ReactDOM","document","getElementById","window","origin","includes"],"mappings":"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","file":"static/js/main.f13e41e0.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport getSearchResults from './actions/getSearchResults';\nimport subscribeRestaurant from './actions/subscribeRestaurant';\nimport unsubscribeRestaurant from './actions/unsubscribeRestaurant';\nimport getSubscriptions from './actions/getSubscriptions';\nimport getLocationData from './actions/getLocationData';\nimport Restaurant from './containers/restaurant';\nimport LoginPage from './components/login-page';\nimport SearchTab from './components/search-tab';\nimport SubscriptionsTab from './components/subscriptions-tab';\n\nimport Tabs from 'react-bootstrap/Tabs'\nimport Tab from 'react-bootstrap/Tab'\n\nconst isMobile = ( /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent));\nconst location = {\n    lat: localStorage.getItem('lat') || '32.083758287943695',\n    lon: localStorage.getItem('lon') || '34.79441564530134',\n    details: localStorage.getItem('address-details') || '',\n}\nfunction beep() {\n    const snd = new Audio(\"data:audio/wav;base64,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qJrx4KOQjahZxWbcZgztj2c49nKmkId44S71j0c8eV9yDK6uPRzx5X18eDvjvQ6yKo9ZSS6l//8elePK/Lf//IInrOF/FvDoADYAGBMGb7FtErm5MXMlmPAJQVgWta7Zx2go+8xJ0UiCb8LHHdftWyLJE0QIAIsI+UbXu67dZMjmgDGCGl1H+vpF4NSDckSIkk7Vd+sxEhBQMRU8j/12UIRhzSaUdQ+rQU5kGeFxm+hb1oh6pWWmv3uvmReDl0UnvtapVaIzo1jZbf/pD6ElLqSX+rUmOQNpJFa/r+sa4e/pBlAABoAAAAA3CUgShLdGIxsY7AUABPRrgCABdDuQ5GC7DqPQCgbbJUAoRSUj+NIEig0YfyWUho1VBBBA//uQZB4ABZx5zfMakeAAAAmwAAAAF5F3P0w9GtAAACfAAAAAwLhMDmAYWMgVEG1U0FIGCBgXBXAtfMH10000EEEEEECUBYln03TTTdNBDZopopYvrTTdNa325mImNg3TTPV9q3pmY0xoO6bv3r00y+IDGid/9aaaZTGMuj9mpu9Mpio1dXrr5HERTZSmqU36A3CumzN/9Robv/Xx4v9ijkSRSNLQhAWumap82WRSBUqXStV/YcS+XVLnSS+WLDroqArFkMEsAS+eWmrUzrO0oEmE40RlMZ5+ODIkAyKAGUwZ3mVKmcamcJnMW26MRPgUw6j+LkhyHGVGYjSUUKNpuJUQoOIAyDvEyG8S5yfK6dhZc0Tx1KI/gviKL6qvvFs1+bWtaz58uUNnryq6kt5RzOCkPWlVqVX2a/EEBUdU1KrXLf40GoiiFXK///qpoiDXrOgqDR38JB0bw7SoL+ZB9o1RCkQjQ2CBYZKd/+VJxZRRZlqSkKiws0WFxUyCwsKiMy7hUVFhIaCrNQsKkTIsLivwKKigsj8XYlwt/WKi2N4d//uQRCSAAjURNIHpMZBGYiaQPSYyAAABLAAAAAAAACWAAAAApUF/Mg+0aohSIRobBAsMlO//Kk4soosy1JSFRYWaLC4qZBYWFRGZdwqKiwkNBVmoWFSJkWFxX4FFRQWR+LsS4W/rFRb/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////VEFHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAU291bmRib3kuZGUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMjAwNGh0dHA6Ly93d3cuc291bmRib3kuZGUAAAAAAAAAACU=\");\n    snd.play();\n}\n\nfunction getLocation(){\n    if (navigator.geolocation)\n    {\n\n        navigator.geolocation.getCurrentPosition(async (position)=>{\n            const changed = (`${location.lat}` !== `${position.coords.latitude}` || `${location.lon}` !== `${position.coords.longitude}`);\n            location.lat=position.coords.latitude;\n            location.lon=position.coords.longitude;\n            localStorage.setItem('lat', location.lat);\n            localStorage.setItem('lon', location.lon);\n            if (changed) {\n                const addressDetails = await getLocationData(location.lat, location.lon);\n                location.details = addressDetails;\n                this.setState({ myAddress: addressDetails });\n            }else{\n                this.setState({ myAddress: location.details });\n            }\n        },(err)=>{\n            console.log('calling getCurrentPosition got error:', err)\n        });\n    }\n    else{\n        console.log('no navigator.geolocation')\n    }\n}\n\nclass App extends Component {\n\n    constructor() {\n        super();\n        setTimeout(async ()=>{\n            const authData = localStorage.getItem('authData');\n            if (authData){\n                const {provider, token } = JSON.parse(authData);\n                if (provider && token) {\n                    const { subscriptions, userContext } = await getSubscriptions(provider, token);\n                    console.log('after getSubscriptions')\n                    this.setState({ subscriptions, email: userContext.email });\n                    this.onLoggedIn();\n                }\n            }\n        },400)\n        this.state = {\n            email: null,\n            results:[],\n            subscriptions:[],\n            tabKey:'search',\n            searchWasClicked: false,\n            thinking: false,\n            myAddress: '',\n        };\n    }\n    onLoggedIn = () =>{\n        getLocation.bind(this)();\n    }\n\n    subscribe = async(name, restaurantId) => {\n        const setState = this.setState.bind(this);\n        setState({ thinking:true });\n        const {provider, token } = JSON.parse(localStorage.getItem('authData'));\n        setImmediate(async ()=>{\n            const subscriptions = await subscribeRestaurant(name, restaurantId, location, provider, token);\n            setState({ thinking:false, subscriptions, tabKey: 'subscriptions' });\n        })\n    }\n\n    unsubscribe = async(name, restaurantId) => {\n        const setState = this.setState.bind(this);\n        setState({ thinking:true });\n        const {provider, token } = JSON.parse(localStorage.getItem('authData'));\n        setImmediate(async ()=>{\n            if (confirm(\"להסיר את הרישום?\")){\n                const subscriptions = await unsubscribeRestaurant(name, restaurantId, location, provider, token);\n                setState({ thinking:false, subscriptions, tabKey: 'subscriptions' });\n            }else{\n                setState({ thinking:false });\n            }\n        })\n    }\n\n    search = async(searchTerm) => {\n        if (!searchTerm || searchTerm.length ===0){\n            return;\n        }\n        const setState = this.setState.bind(this);\n        setState({ thinking:true });\n        setImmediate(async ()=>{\n            localStorage.setItem('searchRestaurantValue', searchTerm);\n            const results = await getSearchResults(searchTerm, location);\n            setState({ results, searchWasClicked:true, thinking:false });\n        })\n    }\n\n    getRestaurantDiv = (title,shortDescription, image, overlay,restaurantId, address, isOpen, searchPage, subscriber, email)=>{\n        return <Restaurant\n            title={title}\n            shortDescription={shortDescription}\n            image={image}\n            overlay={overlay}\n            restaurantId={restaurantId}\n            address={address}\n            isOpen={isOpen}\n            searchPage={searchPage}\n            subscriber={subscriber}\n            email={email}\n            subscribe={this.subscribe.bind(this)}\n            unsubscribe={this.unsubscribe.bind(this)}\n        />\n    }\n    onKeyChange = (tabKey)=>{\n        this.setState({tabKey });\n    };\n\n    onDisconnect = () =>{\n        localStorage.removeItem('email');this.setState({ email: null});\n    }\n\n    render() {\n        const loggedIn = Boolean(this.state.email);\n        if (!loggedIn){\n            return <LoginPage setState={this.setState.bind(this)} onLoggedIn={this.onLoggedIn.bind(this)}/>\n        }\n        console.log('app render, subscriptions:', this.state.subscriptions)\n        return (\n            <div>\n                <div id=\"login-data\">\n                    <div>{this.state.email}</div>\n                    <div> <span id=\"log-out-button\" onClick={this.onDisconnect}>התנתקות</span></div>\n                </div>\n                <div id=\"main-header\">\n                   <u>תוסף לוולט</u>\n                </div>\n                <div id=\"secondary-header\">\nהירשמו לקבל התראה כשמסעדה נפתחת למשלוחים\n                </div>\n                <Tabs defaultActiveKey=\"search\" id=\"uncontrolled-tab-example\" style={{fontSize: isMobile ? \"0.8em\" : \"1em\"}} activeKey={this.state.tabKey} onSelect={this.onKeyChange} variant=\"pills\">\n                    <Tab eventKey=\"search\" title=\"חיפוש מסעדות\" >\n                        <SearchTab search={this.search.bind(this)}\n                                   myAddress={this.state.myAddress}\n                                   onLoggedIn={this.onLoggedIn.bind(this)}\n                                   searchWasClicked={this.state.searchWasClicked}\n                                   results={this.state.results}\n                                   getRestaurantDiv={this.getRestaurantDiv.bind(this)}/>\n\n                    </Tab>\n                    <Tab eventKey=\"subscriptions\" title=\"רישומים\" >\n                       <SubscriptionsTab subscriptions={this.state.subscriptions}\n                                         getRestaurantDiv={this.getRestaurantDiv.bind(this)}/>\n                    </Tab>\n                </Tabs>\n                {this.state.thinking ? <div className=\"sivivator\"> <img id=\"sivivator-gif\" src='loading.gif'/></div>: <div></div>}\n            </div>);\n    }\n}\n\nexport default App;\n\n","import request from 'request';\nimport URL_PREFIX from '../helpers/url';\n\nasync function getSearchResults(restaurantName, location) {\n  return new Promise((resolve, reject) => {\n    const options = {\n      method: 'POST',\n      url: `${URL_PREFIX}/search`,\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        restaurantName,\n        location,\n      }),\n    };\n\n    request(options, (error, response, body) => {\n      if (error || response.statusCode >= 400) {\n        if (error) {\n          console.error('request cb error.failed to getSearchResults', error);\n          return reject('failed to get getSearchResults');\n        }\n        const bodyObj = JSON.parse(body);\n        console.error('failed to getSearchResults', bodyObj);\n        return reject(bodyObj.title);\n      }\n      const { results } = JSON.parse(body);\n      return resolve(results);\n    });\n  });\n}\n\nexport default getSearchResults;\n","import request from 'request';\nimport URL_PREFIX from '../helpers/url';\n\nasync function subscribeRestaurant(restaurantName, restaurantId, location, provider, token) {\n  const body = JSON.stringify({\n    restaurantName,\n    restaurantId,\n    location\n  });\n\n  return new Promise((resolve, reject) => {\n    const options = {\n      method: 'POST',\n      url: `${URL_PREFIX}/subscriptions`,\n      headers: {\n        provider,\n        'x-auth-token': token,\n        'Content-Type': 'application/json',\n      },\n      body,\n    };\n\n    request(options, (error, response, body) => {\n      if (error || response.statusCode >= 400) {\n        if (error) {\n          console.error('request cb error.failed to get subscribeRestaurant', error);\n          return reject('failed to get subscribeRestaurant');\n        }\n        const bodyObj = typeof body === object ? body : JSON.parse(body);\n        console.error('failed to subscribeRestaurant data', bodyObj);\n        return reject(bodyObj.title);\n      }\n      const parsedBody = JSON.parse(body);\n      console.log('subscribeRestaurant, parsedBody',parsedBody)\n      localStorage.setItem('email', parsedBody.userContext.email);\n      return resolve(parsedBody.subscriptions);\n    });\n  });\n}\n\nexport default subscribeRestaurant;\n","import request from 'request';\nimport URL_PREFIX from '../helpers/url';\n\nasync function unsubscribeRestaurant(restaurantName, restaurantId, location, provider, token) {\n  const body = JSON.stringify({\n    restaurantName,\n    restaurantId,\n    location,\n  });\n\n  return new Promise((resolve, reject) => {\n    const options = {\n      method: 'POST',\n      url: `${URL_PREFIX}/unsubscribe`,\n      headers: {\n        provider,\n        'x-auth-token': token,\n        'Content-Type': 'application/json',\n      },\n      body,\n    };\n\n    request(options, (error, response, body) => {\n      if (error || response.statusCode >= 400) {\n        if (error) {\n          console.error('request cb error.failed to get unsubscribeRestaurant', error);\n          return reject('failed to get unsubscribeRestaurant');\n        }\n        const bodyObj = typeof body === object ? body : JSON.parse(body);\n        console.error('failed to unsubscribeRestaurant data', bodyObj);\n        return reject(bodyObj.title);\n      }\n      const parsedBody = JSON.parse(body);\n      console.log('unsubscribeRestaurant, parsedBody',parsedBody)\n      localStorage.setItem('email', parsedBody.userContext.email);\n      return resolve(parsedBody.subscriptions);\n    });\n  });\n}\n\nexport default unsubscribeRestaurant;\n","import request from 'request';\nimport URL_PREFIX from \"../helpers/url\";\n\nasync function getLocationData(lat, lon) {\n  return new Promise((resolve, reject) => {\n    const options = {\n      method: 'GET',\n      url: `${URL_PREFIX}/location-address?lat=${lat}&lon=${lon}`,\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    };\n\n    request(options, (error, response, body) => {\n      if (error || response.statusCode >= 400) {\n        if (error) {\n          console.error('request cb error.failed to getLocationData', error);\n          return reject('failed to get getLocationData');\n        }\n        const bodyObj = JSON.parse(body);\n        console.error('failed to getLocationData', bodyObj);\n        return reject(bodyObj.title);\n      }\n      const { address } = JSON.parse(body);\n      return resolve(address);\n    });\n  });\n}\n\nexport default getLocationData;\n","import React, { Component } from 'react';\n\nconst isMobile = ( /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent));\n\nclass Restaurant extends Component {\n    render() {\n        const offline = !this.props.isOpen;\n        const subscriptionPage = !this.props.searchPage;\n        return <div key={`rest_${this.props.searchPage}_${this.props.restaurantId}`} className={`col-xs-6 restaurant-result-div ${offline ?'offline':''} ${ isMobile ? 'mobile-width' : ''}`} onClick={()=> offline && this.props.searchPage ? this.props.subscribe(this.props.title, this.props.restaurantId) : subscriptionPage ? this.props.unsubscribe(this.props.title, this.props.restaurantId) : ()=>{}}>\n            <div> <img src={this.props.image}/></div>\n            <div className=\"rest-data\">\n                <div className=\"restaurant-title\">{this.props.title}</div>\n                <div className=\"restaurant-short-description\">{this.props.shortDescription}</div>\n\n                <div className=\"restaurant-address\">{this.props.address}</div>\n                {this.props.overlay && this.props.overlay.length ? <div className=\"overlay\">{this.props.overlay}</div> : <span></span>}\n                {offline && this.props.searchPage ? <div className=\"action-prompt\">לחץ לרישום</div>: <span></span> }\n                {subscriptionPage  ? <div className=\"action-prompt\">להסרת רישום</div>: <span></span> }\n                {this.props.subscriber ? <div>\n                    <div> { this.props.subscriber.firstName} { this.props.subscriber.familyName}</div>\n                    <div className=\"email-data\">({this.props.subscriber.email})</div>\n                    <div> <img src={ this.props.subscriber.imageUrl}/></div>\n                </div>:<div></div>}\n            </div>\n        </div>\n\n    }\n}\n\nexport default Restaurant;\n\n","import React, { Component } from 'react';\nimport getSubscriptions from '../actions/getSubscriptions';\nimport FacebookLogin from  'react-facebook-login/dist/facebook-login-render-props';\nconst GOOGLE_CLIENT_ID= '79744445247-r6hecpeic6csggbl5c40isiqfshf15l7.apps.googleusercontent.com';\nconst FACEBOOK_APP_ID= '4683699325055690';\nimport { GoogleLogin } from 'react-google-login';\n\nclass LoginPage extends Component {\n\n    performLogin = async (provider, token) => {\n        try{\n            const {subscriptions, userContext} = await getSubscriptions(provider, token);\n            this.props.setState({ subscriptions, email: userContext.email, thinking:false });\n            const issueDate  = new Date();\n            localStorage.setItem('authData', JSON.stringify({provider, token, issueDate }));\n            localStorage.setItem('email', userContext.email);\n            this.props.onLoggedIn();\n        } catch(error) {\n            localStorage.removeItem('authData');\n            console.log('error', error)\n            alert('failed to login');\n            this.props.setState({ thinking:false });\n        }\n    };\n\n    googleResponse = (response) => {\n        if (response.accessToken){\n            this.performLogin('google', response.accessToken);\n        }else{\n            console.error('google login failure');\n        }\n\n    };\n    facebookResponse = (response) => {\n        if (response.accessToken){\n            this.performLogin('facebook', response.accessToken);\n        }else{\n            console.error('facebook login failure');\n        }\n\n    };\n    render() {//setState, onLoggedIn\n            return <div id=\"login-page\">\n                <div id=\"login-page-header\">\n                    התחברות\n                </div>\n                <div id=\"login-body\">\n                    <div>\n                        <GoogleLogin\n                        clientId={GOOGLE_CLIENT_ID}\n                        onSuccess={this.googleResponse}\n                        onFailure={this.onLoginFailure}\n                        render={renderProps => (\n                            <div className=\"login-button login-button-google\" onClick={renderProps.onClick}> התחבר באמצעות גוגל</div>\n                        )}\n                    />\n                    </div>\n                    <div>\n                        <FacebookLogin\n                        disableMobileRedirect={true}\n                        appId={FACEBOOK_APP_ID}\n                        autoLoad={false}\n                        fields=\"name,email\"\n                        callback={this.facebookResponse}\n                        render={renderProps => (\n                            <div id=\"fbButton\" className=\"login-button login-button-fb\" onClick={renderProps.onClick}> התחבר באמצעות פייסבוק</div>\n                        )}/>\n                    </div>\n                </div>\n                <div id=\"explained\">\n                    <div id=\"explained-header\">\n                        <hr/>\n                        ככה זה עובד:\n                        <hr/>\n                    </div>\n                    <div className=\"row\">\n                        <div className=\"col-xs-4 \">\n                            <div className=\"explained-sub-header\">\n                                כשמחפשים מסעדה בוולט\n                            </div>\n                            <div className=\"explained-sub-header\">\n                                 היא לפעמים סגורה\n                            </div>\n                            <div >\n                                <img src=\"./wolt1.jpeg\"/>\n                            </div>\n                        </div>\n                        <div className=\"col-xs-4 \">\n                            <div className=\"explained-sub-header\">\n                                אבל אם נכנסים רואים שזה רק זמני\n                            </div>\n                            <div >\n                                <img src=\"./wolt2.jpeg\"/>\n                            </div>\n                        </div>\n                        <div className=\"col-xs-4 \">\n                            <div className=\"explained-sub-header\">\n                                אז מחפשים את המסעדה פה באתר\n                            </div>\n                            <div className=\"explained-sub-header\">\n                                ונרשמים לעדכון עבורה\n                            </div>\n                            <div >\n                                <img src=\"./wolt3.jpeg\"/>\n                            </div>\n                        </div>\n                        <div className=\"col-xs-4 \">\n                            <div className=\"explained-sub-header\">\n                                וכשהמסעדה נפתחת מקבלים עדכון במייל\n                            </div>\n\n                            <div >\n                                <img src=\"./wolt4.jpeg\"/>\n                            </div>\n                        </div>\n                        <div className=\"col-xs-4 \">\n                            <div className=\"explained-sub-header\">\n                                ואז נכנסים שוב ומזמינים רגיל דרך הוולט\n                            </div>\n                            <div >\n                                <img src=\"./wolt5.jpeg\"/>\n                            </div>\n                        </div>\n                        <div className=\"col-xs-4 \">\n                            <div className=\"explained-sub-header\">\n                                האתר לא קשור בשום צורה לחברת וולט,\n                            </div>\n                            <div className=\"explained-sub-header\">\n                                וכנראה יירד כשהם יתמכו באפשרות הזאת בעצמם\n                            </div>\n                            <div className=\"explained-sub-header email-address\">\n                                green.gilad@gmail.com\n                            </div>\n\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n    }\n}\n\nexport default LoginPage;\n\n","import React, { Component } from 'react';\n\nclass SearchTab extends Component {\n    constructor() {\n        super();\n        const searchRestaurantValue = localStorage.getItem('searchRestaurantValue') || '';\n        this.state = {\n            searchRestaurantValue,\n        };\n    }\n    onSearchRestaurantValueChange = (event) => {\n        this.setState({ searchRestaurantValue: event.target.value });\n    }\n    render() {\n        return  <div>\n            <div id=\"search-restaurant-div\">\n                <input type=\"text\" id=\"search-restaurant-input\" value={this.state.searchRestaurantValue} onChange={this.onSearchRestaurantValueChange} onKeyDown={(e)=>{\n                    console.log('e.key',e.key)\n                    if (e.key === 'Enter') {\n                        this.props.search(this.state.searchRestaurantValue)\n                    }\n                }}/>\n                <button id=\"search-restaurant-button\"  onClick={()=>this.props.search(this.state.searchRestaurantValue)} disabled={this.state.searchRestaurantValue.length === 0}>חיפוש</button>\n            </div>\n            <div id=\"my-address-div\">\n                {this.props.myAddress ? <span id=\"address-info-text\">חיפוש על פי הכתובת: {this.props.myAddress}  </span> : <span></span> }\n                {this.props.myAddress ? <span id=\"reset-address\" onClick={()=>{\n                    localStorage.removeItem('lat');\n                    localStorage.removeItem('lon');\n                    localStorage.removeItem('address-details');\n                    this.props.onLoggedIn();\n                }\n                }>אפס</span> : <span></span>}\n            </div>\n            <div id=\"search-results\">\n                { this.props.searchWasClicked ? <div>\n                    <span className=\"spaced-span\">  נמצאו</span>\n                    {this.props.results.length}\n\n                    <span className=\"spaced-span\">  תוצאות</span>\n                </div> : <div></div>}\n                <div className=\"row\">\n                    {\n                        this.props.results.map((result) =>{\n                            const {title, image: {url: image}, overlay, track_id: restaurantId, venue: { address, short_description}, isOpen }= result;\n                            return this.props.getRestaurantDiv(title, short_description, image, overlay,restaurantId, address, isOpen, true);\n                        })\n                    }\n                </div>\n            </div>\n        </div>\n\n    }\n}\n\nexport default SearchTab;\n\n","import React, { Component } from 'react';\n\nclass SubscriptionsTab extends Component {\n\n    render() {\n        const subscriptionsResults = this.props.subscriptions;\n        let subscriptionsDivs = <div></div>;\n        if (subscriptionsResults.length > 0) {\n\n            const subscriptionsHasSubscriberInfo = subscriptionsResults[0].subscriber;\n            const subscriptions = subscriptionsHasSubscriberInfo\n                ? subscriptionsResults.sort((subscriptionA, subscriptionB)=>{\n                    if (subscriptionA.isAdmin) return -1;\n                    if (subscriptionB.isAdmin) return 1;\n                    return 0;\n                }) : subscriptionsResults;\n\n            subscriptionsDivs = subscriptions.map(subscription =>{\n                const { restaurantName: title, restaurantImage: image, restaurantId, restaurantAddress: address, subscriber, email  } = subscription;\n                if (subscriber){\n                    subscriber.isAdmin = subscription.isAdmin;\n                }\n                return this.props.getRestaurantDiv(title,'', image, null,restaurantId, address, false, false, subscriber, email);\n            })\n        }\n        return <div>\n            <div  id=\"subscriptions-results\">\n                <span className=\"spaced-span\">  נמצאו</span>\n                {subscriptionsResults.length}\n            </div>\n            <div className=\"row\">\n                {subscriptionsDivs}\n            </div>\n        </div>\n    }\n}\n\nexport default SubscriptionsTab;\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { transitions, positions, Provider as AlertProvider } from 'react-alert';\nimport AlertTemplate from 'react-alert-template-basic';\n\nimport './style/app.css';\n\nconst options = {\n    // you can also just use 'bottom center'\n    position: positions.BOTTOM_CENTER,\n    timeout: 3000,\n    offset: '30px',\n    // you can also just use 'scale'\n    transition: transitions.SCALE\n}\n\nconst Root = () => (\n    <AlertProvider template={AlertTemplate} {...options}>\n        <App />\n    </AlertProvider>\n)\n\n\nReactDOM.render(\n    <Root/>,\n  document.getElementById('root')\n);\n","const URL_PREFIX = window.location.origin.includes('localhost') ? 'https://wolt-wrapper.herokuapp.com' : window.location.origin;\n\nexport default URL_PREFIX\n","\nimport request from 'request';\nimport URL_PREFIX from '../helpers/url';\n\nasync function getSubscriptions(provider, token) {\n  return new Promise((resolve, reject) => {\n    const options = {\n      method: 'GET',\n      url: `${URL_PREFIX}/subscriptions`,\n      headers: {\n        provider,\n        'x-auth-token': token,\n        'Content-Type': 'application/json',\n      }\n    };\n\n    request(options, (error, response, body) => {\n      if (error || response.statusCode >= 400) {\n        if (error) {\n          console.error('request cb error.failed to get getSubscriptions', error);\n          return reject('failed to get getSubscriptions');\n        }\n        const bodyObj = typeof body === 'object' ? body : JSON.parse(body);\n        console.error('failed to getSubscriptions data', bodyObj);\n        return reject(bodyObj.title);\n      }\n      const parsedBody = JSON.parse(body);\n      return resolve(parsedBody);\n    });\n  });\n}\n\nexport default getSubscriptions;\n"],"sourceRoot":""}