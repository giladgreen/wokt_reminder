(this["webpackJsonpfront-poker"]=this["webpackJsonpfront-poker"]||[]).push([[0],{124:function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(11),i=a(27),o=a.n(i),c=a(41);function u(){return(u=Object(s.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var r={method:"POST",url:"".concat(c.a,"/search"),headers:{"Content-Type":"application/json"},body:JSON.stringify({restaurantName:t,location:a})};o()(r,(function(t,a,r){if(t||a.statusCode>=400){if(t)return console.error("request cb error.failed to getSearchResults",t),n("failed to get getSearchResults");var s=JSON.parse(r);return console.error("failed to getSearchResults",s),n(s.title)}var i=JSON.parse(r).results;return e(i)}))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.a=function(e,t){return u.apply(this,arguments)}},125:function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(11),i=a(27),o=a.n(i),c=a(41);function u(){return(u=Object(s.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var r={method:"GET",url:"".concat(c.a,"/subscriptions"),headers:{provider:t,"x-auth-token":a,"Content-Type":"application/json"}};o()(r,(function(t,a,r){if(t||a.statusCode>=400){if(t)return console.error("request cb error.failed to get getSubscriptions",t),n("failed to get getSubscriptions");var s="object"===typeof r?r:JSON.parse(r);return console.error("failed to getSubscriptions data",s),n(s.title)}var i=JSON.parse(r);return e(i)}))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.a=function(e,t){return u.apply(this,arguments)}},209:function(e,t,a){"use strict";(function(e){var n=a(210),r=a(211),s=a(33),i=a(220),o=a(219),c=a(4),u=a.n(c),l=a(11),A=a(0),d=a(124),b=a(212),p=a(213),h=a(125),g=a(214),f=a(215),j=a.n(f),m=a(216),v=a(218),O=a(126),x=a(1),k=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),S={lat:localStorage.getItem("lat")||"32.083758287943695",lon:localStorage.getItem("lon")||"34.79441564530134",details:localStorage.getItem("address-details")||""};function y(){var e=this;navigator.geolocation?navigator.geolocation.getCurrentPosition(function(){var t=Object(l.a)(u.a.mark((function t(a){var n,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=S.lat!==a.coords.latitude||S.lon!==a.coords.longitude,console.log("getLocation changed",n),S.lat=a.coords.latitude,S.lon=a.coords.longitude,localStorage.setItem("lat",S.lat),localStorage.setItem("lon",S.lon),!n){t.next=16;break}return t.next=9,Object(g.a)(S.lat,S.lon);case 9:r=t.sent,console.log("#### addressDetails",r),localStorage.setItem("address-details",r),S.details=r,e.setState({myAddress:r}),t.next=17;break;case 16:e.setState({myAddress:S.details});case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(e){console.log("calling getCurrentPosition got error:",e)})):console.log("no navigator.geolocation")}var I=function(t){Object(i.a)(c,t);var a=Object(o.a)(c);function c(){var t;Object(n.a)(this,c),(t=a.call(this)).onLoggedIn=function(){y.bind(Object(s.a)(t))()},t.onSearchRestaurantValueChange=function(e){t.setState({searchRestaurantValue:e.target.value})},t.checkForChanges=Object(l.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.setState.bind(Object(s.a)(t)),t.state.subscriptions){e.next=3;break}return e.abrupt("return");case 3:t.state.subscriptions.forEach(function(){var e=Object(l.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.a)(t.restaurantName,{lat:t.lat,lon:t.lon});case 2:n=e.sent,(r=n.find((function(e){return e.track_id===t.restaurantId})))&&r.isOpen?(new Audio("data:audio/wav;base64,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qJrx4KOQjahZxWbcZgztj2c49nKmkId44S71j0c8eV9yDK6uPRzx5X18eDvjvQ6yKo9ZSS6l//8elePK/Lf//IInrOF/FvDoADYAGBMGb7FtErm5MXMlmPAJQVgWta7Zx2go+8xJ0UiCb8LHHdftWyLJE0QIAIsI+UbXu67dZMjmgDGCGl1H+vpF4NSDckSIkk7Vd+sxEhBQMRU8j/12UIRhzSaUdQ+rQU5kGeFxm+hb1oh6pWWmv3uvmReDl0UnvtapVaIzo1jZbf/pD6ElLqSX+rUmOQNpJFa/r+sa4e/pBlAABoAAAAA3CUgShLdGIxsY7AUABPRrgCABdDuQ5GC7DqPQCgbbJUAoRSUj+NIEig0YfyWUho1VBBBA//uQZB4ABZx5zfMakeAAAAmwAAAAF5F3P0w9GtAAACfAAAAAwLhMDmAYWMgVEG1U0FIGCBgXBXAtfMH10000EEEEEECUBYln03TTTdNBDZopopYvrTTdNa325mImNg3TTPV9q3pmY0xoO6bv3r00y+IDGid/9aaaZTGMuj9mpu9Mpio1dXrr5HERTZSmqU36A3CumzN/9Robv/Xx4v9ijkSRSNLQhAWumap82WRSBUqXStV/YcS+XVLnSS+WLDroqArFkMEsAS+eWmrUzrO0oEmE40RlMZ5+ODIkAyKAGUwZ3mVKmcamcJnMW26MRPgUw6j+LkhyHGVGYjSUUKNpuJUQoOIAyDvEyG8S5yfK6dhZc0Tx1KI/gviKL6qvvFs1+bWtaz58uUNnryq6kt5RzOCkPWlVqVX2a/EEBUdU1KrXLf40GoiiFXK///qpoiDXrOgqDR38JB0bw7SoL+ZB9o1RCkQjQ2CBYZKd/+VJxZRRZlqSkKiws0WFxUyCwsKiMy7hUVFhIaCrNQsKkTIsLivwKKigsj8XYlwt/WKi2N4d//uQRCSAAjURNIHpMZBGYiaQPSYyAAABLAAAAAAAACWAAAAApUF/Mg+0aohSIRobBAsMlO//Kk4soosy1JSFRYWaLC4qZBYWFRGZdwqKiwkNBVmoWFSJkWFxX4FFRQWR+LsS4W/rFRb/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////VEFHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAU291bmRib3kuZGUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMjAwNGh0dHA6Ly93d3cuc291bmRib3kuZGUAAAAAAAAAACU=").play(),a({tabKey:"search"}),alert("".concat(t.restaurantName," is now open"))):console.log("still close",t.restaurantName);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:case"end":return e.stop()}}),e)}))),t.subscribe=function(){var a=Object(l.a)(u.a.mark((function a(n,r){var i,o,c,A;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:(i=t.setState.bind(Object(s.a)(t)))({thinking:!0}),o=JSON.parse(localStorage.getItem("authData")),c=o.provider,A=o.token,e(Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("about to subscribe for restaurant:",n,r),e.next=3,Object(b.a)(n,r,S,c,A);case 3:t=e.sent,console.log("subscriptions:",t),i({thinking:!1,subscriptions:t,tabKey:"subscriptions"});case 6:case"end":return e.stop()}}),e)}))));case 4:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}(),t.unsubscribe=function(){var a=Object(l.a)(u.a.mark((function a(n,r){var i,o,c,A;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:(i=t.setState.bind(Object(s.a)(t)))({thinking:!0}),o=JSON.parse(localStorage.getItem("authData")),c=o.provider,A=o.token,e(Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!confirm("\u05dc\u05d4\u05e1\u05d9\u05e8 \u05d0\u05ea \u05d4\u05e8\u05d9\u05e9\u05d5\u05dd?")){e.next=9;break}return console.log("about to unsubscribe for restaurant:",n,r),e.next=4,Object(p.a)(n,r,S,c,A);case 4:t=e.sent,console.log("subscriptions:",t),i({thinking:!1,subscriptions:t,tabKey:"subscriptions"}),e.next=10;break;case 9:i({thinking:!1});case 10:case"end":return e.stop()}}),e)}))));case 4:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}(),t.search=Object(l.a)(u.a.mark((function a(){var n;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t.state.searchRestaurantValue&&0!==t.state.searchRestaurantValue.length){a.next=3;break}return console.log("can not search for empty",t.state.searchRestaurantValue),a.abrupt("return");case 3:(n=t.setState.bind(Object(s.a)(t)))({thinking:!0}),e(Object(l.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("about to search for restaurant:",t.state.searchRestaurantValue),localStorage.setItem("searchRestaurantValue",t.state.searchRestaurantValue),e.next=4,Object(d.a)(t.state.searchRestaurantValue,S);case 4:a=e.sent,n({results:a,searchWasClicked:!0,thinking:!1});case 6:case"end":return e.stop()}}),e)}))));case 6:case"end":return a.stop()}}),a)}))),t.getRestaurantDiv=function(e,a,n,r,s,i,o,c,u,l){c||(console.log("getRestaurantDiv",e,n,r,s,i,o,c),console.log("subscriber",u));var A=!o;return Object(x.jsxs)("div",{className:"col-xs-6 restaurant-result-div ".concat(A?"offline":""," ").concat(k?"mobile-width":""),onClick:function(){return A&&c?t.subscribe(e,s):c||t.state.email!==l?function(){}:t.unsubscribe(e,s)},children:[Object(x.jsxs)("div",{children:[" ",Object(x.jsx)("img",{src:n})]}),Object(x.jsxs)("div",{className:"rest-data",children:[Object(x.jsx)("div",{className:"restaurant-title",children:e}),Object(x.jsx)("div",{className:"restaurant-short-description",children:a}),Object(x.jsx)("div",{className:"restaurant-address",children:i}),r&&r.length?Object(x.jsx)("div",{className:"overlay",children:r}):Object(x.jsx)("span",{}),A&&c?Object(x.jsx)("div",{className:"action-prompt",children:"\u05dc\u05d7\u05e5 \u05dc\u05e8\u05d9\u05e9\u05d5\u05dd"}):Object(x.jsx)("span",{}),c||t.state.email!==l?Object(x.jsx)("span",{}):Object(x.jsx)("div",{className:"action-prompt",children:"\u05dc\u05d4\u05e1\u05e8\u05ea \u05e8\u05d9\u05e9\u05d5\u05dd"}),c||"green.gilad@gmail.com"!==t.state.email?Object(x.jsx)("span",{}):Object(x.jsxs)("div",{className:"email-data",children:["(",l,")"]}),u?Object(x.jsxs)("div",{children:[Object(x.jsxs)("div",{children:[" ",u.firstName," ",u.familyName]}),Object(x.jsxs)("div",{children:[" ",Object(x.jsx)("img",{src:u.imageUrl})]})]}):Object(x.jsx)("div",{})]})]},e)},t.onKeyChange=function(e){t.setState({tabKey:e})},t.onLoginFailure=function(e){console.error("App onFailure",e)},t.performLogin=function(){var a=Object(l.a)(u.a.mark((function a(n,r){var i;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:(i=t.setState.bind(Object(s.a)(t)))({thinking:!0}),e(Object(l.a)(u.a.mark((function e(){var a,s,o,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(h.a)(n,r);case 3:a=e.sent,s=a.subscriptions,o=a.userContext,t.setState({subscriptions:s,email:o.email,thinking:!1}),c=new Date,localStorage.setItem("authData",JSON.stringify({provider:n,token:r,issueDate:c})),localStorage.setItem("email",o.email),t.onLoggedIn(),e.next=19;break;case 13:e.prev=13,e.t0=e.catch(0),localStorage.removeItem("authData"),console.log("error",e.t0),alert("failed to login"),i({thinking:!1});case 19:case"end":return e.stop()}}),e,null,[[0,13]])}))));case 3:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}(),t.googleResponse=function(e){e.accessToken?t.performLogin("google",e.accessToken):t.onLoginFailure("login failed")},t.facebookResponse=function(e){e.accessToken?t.performLogin("facebook",e.accessToken):t.onLoginFailure("login failed")};var r=localStorage.getItem("searchRestaurantValue")||"";return setTimeout(Object(l.a)(u.a.mark((function e(){var a,n,r,s,i,o,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=localStorage.getItem("authData"))){e.next=11;break}if(n=JSON.parse(a),r=n.provider,s=n.token,!r||!s){e.next=11;break}return e.next=6,Object(h.a)(r,s);case 6:i=e.sent,o=i.subscriptions,c=i.userContext,t.setState({subscriptions:o,email:c.email}),t.onLoggedIn();case 11:case"end":return e.stop()}}),e)}))),400),t.state={email:null,searchRestaurantValue:r,results:[],subscriptions:[],tabKey:"search",searchWasClicked:!1,thinking:!1,myAddress:""},t}return Object(r.a)(c,[{key:"render",value:function(){var e=this;if(!Boolean(this.state.email))return Object(x.jsxs)("div",{id:"login-page",children:[Object(x.jsx)("div",{id:"login-page-header",children:"\u05d4\u05ea\u05d7\u05d1\u05e8\u05d5\u05ea"}),Object(x.jsxs)("div",{id:"login-body",children:[Object(x.jsx)("div",{children:Object(x.jsx)(m.GoogleLogin,{clientId:"79744445247-r6hecpeic6csggbl5c40isiqfshf15l7.apps.googleusercontent.com",onSuccess:this.googleResponse,onFailure:this.onLoginFailure,render:function(e){return Object(x.jsx)("div",{className:"login-button login-button-google",onClick:e.onClick,children:" \u05d4\u05ea\u05d7\u05d1\u05e8 \u05d1\u05d0\u05de\u05e6\u05e2\u05d5\u05ea \u05d2\u05d5\u05d2\u05dc"})}})}),Object(x.jsx)("div",{children:Object(x.jsx)(j.a,{disableMobileRedirect:!0,appId:"4683699325055690",autoLoad:!1,fields:"name,email",callback:this.facebookResponse,render:function(e){return Object(x.jsx)("div",{id:"fbButton",className:"login-button login-button-fb",onClick:e.onClick,children:" \u05d4\u05ea\u05d7\u05d1\u05e8 \u05d1\u05d0\u05de\u05e6\u05e2\u05d5\u05ea \u05e4\u05d9\u05d9\u05e1\u05d1\u05d5\u05e7"})}})})]})]});var t=Object(x.jsx)("div",{});if(this.state.subscriptions.length){console.log("this.state.subscriptions",this.state.subscriptions);var a=this.state.subscriptions[0].subscriber?this.state.subscriptions.sort((function(e,t){return e.isAdmin?-1:t.isAdmin?1:0})):this.state.subscriptions;console.log("subscriptions",a),t=a.map((function(t){console.log("subscription",t);var a=t.restaurantName,n=t.restaurantImage,r=t.restaurantId,s=t.restaurantAddress,i=t.subscriber,o=t.email;return i&&(i.isAdmin=t.isAdmin),e.getRestaurantDiv(a,"",n,null,r,s,!1,!1,i,o)}))}return Object(x.jsxs)("div",{children:[Object(x.jsxs)("div",{id:"login-data",children:[this.state.email,Object(x.jsx)("br",{}),Object(x.jsx)("span",{id:"log-out-button",onClick:function(){localStorage.removeItem("email"),e.setState({email:null})},children:"\u05d4\u05ea\u05e0\u05ea\u05e7\u05d5\u05ea"}),Object(x.jsx)("br",{})]}),Object(x.jsx)("div",{id:"main-header",children:Object(x.jsx)("u",{children:"\u05ea\u05d5\u05e1\u05e3 \u05dc\u05d5\u05d5\u05dc\u05d8"})}),Object(x.jsx)("div",{id:"secondary-header",children:"\u05d4\u05d9\u05e8\u05e9\u05de\u05d5 \u05dc\u05e7\u05d1\u05dc \u05d4\u05ea\u05e8\u05d0\u05d4 \u05db\u05e9\u05de\u05e1\u05e2\u05d3\u05d4 \u05e0\u05e4\u05ea\u05d7\u05ea \u05dc\u05de\u05e9\u05dc\u05d5\u05d7\u05d9\u05dd"}),Object(x.jsxs)(v.a,{defaultActiveKey:"search",id:"uncontrolled-tab-example",style:{fontSize:k?"0.8em":"1em"},activeKey:this.state.tabKey,onSelect:this.onKeyChange,variant:"pills",children:[Object(x.jsx)(O.a,{eventKey:"search",title:"\u05d7\u05d9\u05e4\u05d5\u05e9 \u05de\u05e1\u05e2\u05d3\u05d5\u05ea",children:Object(x.jsxs)("div",{children:[Object(x.jsxs)("div",{id:"search-restaurant-div",children:[Object(x.jsx)("input",{type:"text",id:"search-restaurant-input",value:this.state.searchRestaurantValue,onChange:this.onSearchRestaurantValueChange,onKeyDown:function(t){console.log("e.key",t.key),"Enter"===t.key&&e.search()}}),Object(x.jsx)("button",{id:"search-restaurant-button",onClick:this.search,disabled:0===this.state.searchRestaurantValue.length,children:"\u05d7\u05d9\u05e4\u05d5\u05e9"})]}),Object(x.jsxs)("div",{id:"my-address-div",children:[this.state.myAddress?Object(x.jsxs)("span",{id:"address-info-text",children:["\u05d7\u05d9\u05e4\u05d5\u05e9 \u05e2\u05dc \u05e4\u05d9 \u05d4\u05db\u05ea\u05d5\u05d1\u05ea: ",this.state.myAddress,"  "]}):Object(x.jsx)("span",{}),this.state.myAddress?Object(x.jsx)("span",{id:"reset-address",onClick:function(){localStorage.removeItem("lat"),localStorage.removeItem("lon"),localStorage.removeItem("address-details"),e.onLoggedIn()},children:"\u05d0\u05e4\u05e1"}):Object(x.jsx)("span",{})]}),Object(x.jsxs)("div",{id:"search-results",children:[this.state.searchWasClicked?Object(x.jsxs)("div",{children:[Object(x.jsx)("span",{className:"spaced-span",children:"  \u05e0\u05de\u05e6\u05d0\u05d5"}),this.state.results.length,Object(x.jsx)("span",{className:"spaced-span",children:"  \u05ea\u05d5\u05e6\u05d0\u05d5\u05ea"})]}):Object(x.jsx)("div",{}),Object(x.jsx)("div",{className:"row",children:this.state.results.map((function(t){var a=t.title,n=t.image.url,r=t.overlay,s=t.track_id,i=t.venue,o=i.address,c=i.short_description,u=t.isOpen;return e.getRestaurantDiv(a,c,n,r,s,o,u,!0)}))})]})]})}),Object(x.jsx)(O.a,{eventKey:"subscriptions",title:"\u05e8\u05d9\u05e9\u05d5\u05de\u05d9\u05dd",children:Object(x.jsxs)("div",{children:[Object(x.jsxs)("div",{id:"subscriptions-results",children:[Object(x.jsx)("span",{className:"spaced-span",children:"  \u05e0\u05de\u05e6\u05d0\u05d5"}),this.state.subscriptions.length]}),Object(x.jsx)("div",{className:"row",children:t})]})})]}),this.state.thinking?Object(x.jsxs)("div",{className:"sivivator",children:[" ",Object(x.jsx)("img",{id:"sivivator-gif",src:"loading.gif"})]}):Object(x.jsx)("div",{})]})}}]),c}(A.Component);t.a=I}).call(this,a(70).setImmediate)},212:function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(11),i=a(27),o=a.n(i),c=a(41);function u(){return(u=Object(s.a)(r.a.mark((function e(t,a,n,s,i){var u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=JSON.stringify({restaurantName:t,restaurantId:a,location:n}),e.abrupt("return",new Promise((function(e,t){var a={method:"POST",url:"".concat(c.a,"/subscriptions"),headers:{provider:s,"x-auth-token":i,"Content-Type":"application/json"},body:u};o()(a,(function(a,n,r){if(a||n.statusCode>=400){if(a)return console.error("request cb error.failed to get subscribeRestaurant",a),t("failed to get subscribeRestaurant");var s=typeof r===object?r:JSON.parse(r);return console.error("failed to subscribeRestaurant data",s),t(s.title)}var i=JSON.parse(r);return console.log("subscribeRestaurant, parsedBody",i),localStorage.setItem("email",i.userContext.email),e(i.subscriptions)}))})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.a=function(e,t,a,n,r){return u.apply(this,arguments)}},213:function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(11),i=a(27),o=a.n(i),c=a(41);function u(){return(u=Object(s.a)(r.a.mark((function e(t,a,n,s,i){var u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=JSON.stringify({restaurantName:t,restaurantId:a,location:n}),e.abrupt("return",new Promise((function(e,t){var a={method:"POST",url:"".concat(c.a,"/unsubscribe"),headers:{provider:s,"x-auth-token":i,"Content-Type":"application/json"},body:u};o()(a,(function(a,n,r){if(a||n.statusCode>=400){if(a)return console.error("request cb error.failed to get unsubscribeRestaurant",a),t("failed to get unsubscribeRestaurant");var s=typeof r===object?r:JSON.parse(r);return console.error("failed to unsubscribeRestaurant data",s),t(s.title)}var i=JSON.parse(r);return console.log("unsubscribeRestaurant, parsedBody",i),localStorage.setItem("email",i.userContext.email),e(i.subscriptions)}))})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.a=function(e,t,a,n,r){return u.apply(this,arguments)}},214:function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(11),i=a(27),o=a.n(i);function c(){return(c=Object(s.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var r={method:"GET",url:"https://maps.googleapis.com/maps/api/geocode/json?latlng=".concat(t,",").concat(a,"&key=AIzaSyDETKwQl9ihdbQaNYYngJ7tpM2f2pQlxLI&language=he&region=IL")};o()(r,(function(t,a,n){var r=JSON.parse(n).results[0].formatted_address;return e(r)}))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.a=function(e,t){return c.apply(this,arguments)}},221:function(e,t,a){"use strict";a.r(t);var n=a(127),r=(a(0),a(43)),s=a.n(r),i=a(209),o=a(83),c=a(217),u=(a(451),a(1)),l={position:o.b.BOTTOM_CENTER,timeout:3e3,offset:"30px",transition:o.c.SCALE},A=function(){return Object(u.jsx)(o.a,Object(n.a)(Object(n.a)({template:c.a},l),{},{children:Object(u.jsx)(i.a,{})}))};s.a.render(Object(u.jsx)(A,{}),document.getElementById("root"))},241:function(e,t){},243:function(e,t){},252:function(e,t){},254:function(e,t){},279:function(e,t){},281:function(e,t){},282:function(e,t){},287:function(e,t){},289:function(e,t){},308:function(e,t){},320:function(e,t){},323:function(e,t){},328:function(e,t){},330:function(e,t){},353:function(e,t){},41:function(e,t,a){"use strict";var n=window.location.origin.includes("localhost")?"https://wolt-wrapper.herokuapp.com":window.location.origin;t.a=n},451:function(e,t,a){}},[[221,1,2]]]);
//# sourceMappingURL=main.32094d45.chunk.js.map