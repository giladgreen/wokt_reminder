{"version":3,"sources":["App.js","actions/getSearchResults.js","actions/subscribeRestaurant.js","actions/unsubscribeRestaurant.js","actions/getLocationData.js","containers/restaurant.js","containers/showAlert.js","components/login-page.js","components/search-tab.js","components/subscriptions-tab.js","index.jsx","helpers/url.js","actions/getSubscriptions.js"],"names":["isMobile","test","navigator","userAgent","LAT_DEFAULT","LON_DEFAULT","DEFAULT_ALERT_LEVEL","location","lat","localStorage","getItem","lon","details","getLocation","console","log","geolocation","getCurrentPosition","position","a","changed","coords","latitude","longitude","setItem","getLocationData","addressDetails","setState","myAddress","err","App","showAlert","alertMessagem","alertLevel","alertMessage","setTimeout","onLoggedIn","bind","onAddressReset","removeItem","subscribe","name","restaurantId","thinking","JSON","parse","provider","token","setImmediate","subscribeRestaurant","subscriptions","tabKey","unsubscribe","confirm","unsubscribeRestaurant","search","searchTerm","length","getSearchResults","results","searchWasClicked","getRestaurantDiv","title","shortDescription","image","overlay","address","isOpen","searchPage","subscriber","email","onKeyChange","onDisconnect","authData","getSubscriptions","userContext","state","loggedIn","Boolean","this","id","onClick","defaultActiveKey","style","fontSize","activeKey","onSelect","variant","eventKey","message","level","className","src","Component","restaurantName","Promise","resolve","reject","options","method","url","URL_PREFIX","headers","body","stringify","request","error","response","statusCode","bodyObj","object","parsedBody","Restaurant","props","offline","subscriptionPage","firstName","familyName","imageUrl","ShowAlert","alert","useAlert","Object","keys","LoginPage","performLogin","issueDate","Date","googleResponse","accessToken","facebookResponse","clientId","onSuccess","onFailure","onLoginFailure","render","renderProps","disableMobileRedirect","appId","autoLoad","fields","callback","SearchTab","onSearchRestaurantValueChange","event","searchRestaurantValue","target","value","type","onChange","onKeyDown","e","key","disabled","map","result","track_id","venue","short_description","SubscriptionsTab","subscriptionsResults","subscriptionsDivs","sort","subscriptionA","subscriptionB","isAdmin","subscription","restaurantImage","restaurantAddress","positions","BOTTOM_CENTER","timeout","offset","transition","transitions","SCALE","Root","template","AlertTemplate","ReactDOM","document","getElementById","window","origin","includes"],"mappings":"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","file":"static/js/main.b93f0003.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport getSearchResults from './actions/getSearchResults';\nimport subscribeRestaurant from './actions/subscribeRestaurant';\nimport unsubscribeRestaurant from './actions/unsubscribeRestaurant';\nimport getSubscriptions from './actions/getSubscriptions';\nimport getLocationData from './actions/getLocationData';\nimport Restaurant from './containers/restaurant';\nimport ShowAlert from './containers/showAlert';\nimport LoginPage from './components/login-page';\nimport SearchTab from './components/search-tab';\nimport SubscriptionsTab from './components/subscriptions-tab';\n\nimport Tabs from 'react-bootstrap/Tabs'\nimport Tab from 'react-bootstrap/Tab'\n\nconst isMobile = ( /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent));\nconst LAT_DEFAULT = '32.083758287943694';\nconst LON_DEFAULT = '34.79441564530133';\nconst DEFAULT_ALERT_LEVEL = 'show';\nconst location = {\n    lat: localStorage.getItem('lat') || LAT_DEFAULT,\n    lon: localStorage.getItem('lon') || LON_DEFAULT,\n    details: localStorage.getItem('address-details') || '',\n}\n\nfunction getLocation(){\n    console.log('getLocation',location)\n    if (navigator.geolocation)\n    {\n        console.log('navigator.geolocation enabled')\n        navigator.geolocation.getCurrentPosition(async (position)=>{\n            console.log('got position.',position)\n            const changed = (`${location.lat}` !== `${position.coords.latitude}` || `${location.lon}` !== `${position.coords.longitude}`);\n            console.log('changed',changed)\n            location.lat=position.coords.latitude;\n            location.lon=position.coords.longitude;\n            localStorage.setItem('lat', location.lat);\n            localStorage.setItem('lon', location.lon);\n            //if (changed) {\n                const addressDetails = await getLocationData(location.lat, location.lon);\n                location.details = addressDetails;\n                this.setState({ myAddress: addressDetails });\n            //}else{\n              //  this.setState({ myAddress: location.details });\n           // }\n        },(err)=>{\n            console.log('calling getCurrentPosition got error:', err)\n        });\n    }\n    else{\n        console.log('no navigator.geolocation')\n    }\n}\n\nclass App extends Component {\n\n    constructor() {\n        super();\n        setTimeout(async ()=>{\n            const authData = localStorage.getItem('authData');\n            if (authData){\n                const {provider, token } = JSON.parse(authData);\n                if (provider && token) {\n                    const { subscriptions, userContext } = await getSubscriptions(provider, token);\n                    console.log('after getSubscriptions')\n                    this.setState({ subscriptions, email: userContext.email });\n                    this.onLoggedIn();\n                }\n            }\n        },400);\n\n        this.state = {\n            email: null,\n            results:[],\n            subscriptions:[],\n            tabKey:'search',\n            searchWasClicked: false,\n            thinking: false,\n            myAddress: '',\n            alertMessage: null,\n            alertLevel: DEFAULT_ALERT_LEVEL\n        };\n    }\n    showAlert = (alertMessagem, alertLevel = DEFAULT_ALERT_LEVEL) =>{\n        this.setState({ alertMessage, alertLevel });\n        setTimeout(()=>{\n            this.setState({alertMessage: null, alertLevel: DEFAULT_ALERT_LEVEL});\n        },2000)\n    }\n    onLoggedIn = () =>{\n        getLocation.bind(this)();\n    }\n    onAddressReset = ()=>{\n        localStorage.removeItem('lat');\n        localStorage.removeItem('lon');\n        localStorage.removeItem('address-details');\n        location.lat = LAT_DEFAULT;\n        location.lon = LON_DEFAULT;\n        this.onLoggedIn();\n    }\n    subscribe = async(name, restaurantId) => {\n        const setState = this.setState.bind(this);\n        setState({ thinking:true });\n        const {provider, token } = JSON.parse(localStorage.getItem('authData'));\n        setImmediate(async ()=>{\n            const subscriptions = await subscribeRestaurant(name, restaurantId, location, provider, token);\n            setState({ thinking:false, subscriptions, tabKey: 'subscriptions' });\n            this.showAlert('הרישום בוצע בהצלחה', 'success')\n        })\n    }\n\n    unsubscribe = async(name, restaurantId) => {\n        const setState = this.setState.bind(this);\n        setState({ thinking:true });\n        const {provider, token } = JSON.parse(localStorage.getItem('authData'));\n        setImmediate(async ()=>{\n            if (confirm(\"להסיר את הרישום?\")){\n                const subscriptions = await unsubscribeRestaurant(name, restaurantId, location, provider, token);\n                setState({ thinking:false, subscriptions, tabKey: 'subscriptions' });\n                this.showAlert('הרישום הוסר', 'success')\n            }else{\n                setState({ thinking:false });\n            }\n        })\n    }\n\n    search = async(searchTerm) => {\n        if (!searchTerm || searchTerm.length ===0){\n            return;\n        }\n        const setState = this.setState.bind(this);\n        setState({ thinking:true });\n        setImmediate(async ()=>{\n            localStorage.setItem('searchRestaurantValue', searchTerm);\n            const results = await getSearchResults(searchTerm, location);\n            setState({ results, searchWasClicked:true, thinking:false });\n        })\n    }\n\n    getRestaurantDiv = (title,shortDescription, image, overlay,restaurantId, address, isOpen, searchPage, subscriber, email)=>{\n        return <Restaurant\n            title={title}\n            shortDescription={shortDescription}\n            image={image}\n            overlay={overlay}\n            restaurantId={restaurantId}\n            address={address}\n            isOpen={isOpen}\n            searchPage={searchPage}\n            subscriber={subscriber}\n            email={email}\n            subscribe={this.subscribe.bind(this)}\n            unsubscribe={this.unsubscribe.bind(this)}\n        />\n    }\n    onKeyChange = (tabKey)=>{\n        this.setState({tabKey });\n    };\n\n    onDisconnect = () =>{\n        localStorage.removeItem('email');\n        this.setState({ alertLevel: 'info', email: null, alertMessage:  'התנתקת'});\n        setTimeout(()=>{\n            this.setState({alertMessage: null, alertLevel: DEFAULT_ALERT_LEVEL});\n        },2000)\n    }\n\n    render() {\n        const loggedIn = Boolean(this.state.email);\n        console.log('loggedIn',loggedIn)\n        return (\n            <div>\n                {!loggedIn && <LoginPage setState={this.setState.bind(this)} onLoggedIn={this.onLoggedIn.bind(this)} showAlert={this.showAlert.bind(this)}/>}\n                {loggedIn && <div>\n                                    <div id=\"login-data\">\n                                        <div>{this.state.email}</div>\n                                        <div> <span id=\"log-out-button\" onClick={this.onDisconnect}>התנתקות</span></div>\n                                    </div>\n                                    <div id=\"main-header\">\n                                       <u>תוסף לוולט</u>\n                                    </div>\n                                    <div id=\"secondary-header\">\n                                           הירשמו לקבל התראה כשמסעדה נפתחת למשלוחים\n                                    </div>\n                                    <Tabs defaultActiveKey=\"search\" id=\"uncontrolled-tab-example\" style={{fontSize: isMobile ? \"0.8em\" : \"1em\"}} activeKey={this.state.tabKey} onSelect={this.onKeyChange} variant=\"pills\">\n                                        <Tab eventKey=\"search\" title=\"חיפוש מסעדות\" >\n                                            <SearchTab search={this.search.bind(this)}\n                                                       myAddress={this.state.myAddress}\n                                                       onAddressReset={this.onAddressReset.bind(this)}\n                                                       searchWasClicked={this.state.searchWasClicked}\n                                                       results={this.state.results}\n                                                       getRestaurantDiv={this.getRestaurantDiv.bind(this)}/>\n\n                                        </Tab>\n                                        <Tab eventKey=\"subscriptions\" title=\"רישומים\" >\n                                           <SubscriptionsTab subscriptions={this.state.subscriptions}\n                                                             getRestaurantDiv={this.getRestaurantDiv.bind(this)}/>\n                                        </Tab>\n                                    </Tabs>\n                            </div>}\n                {this.state.alertMessage && <ShowAlert message={this.state.alertMessage} level={this.state.alertLevel}/>}\n                {this.state.thinking && <div className=\"sivivator\"> <img id=\"sivivator-gif\" src='loading.gif'/></div>}\n            </div>);\n    }\n}\n\nexport default App;\n\n","import request from 'request';\nimport URL_PREFIX from '../helpers/url';\n\nasync function getSearchResults(restaurantName, location) {\n  return new Promise((resolve, reject) => {\n    const options = {\n      method: 'POST',\n      url: `${URL_PREFIX}/search`,\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        restaurantName,\n        location,\n      }),\n    };\n\n    request(options, (error, response, body) => {\n      if (error || response.statusCode >= 400) {\n        if (error) {\n          console.error('request cb error.failed to getSearchResults', error);\n          return reject('failed to get getSearchResults');\n        }\n        const bodyObj = JSON.parse(body);\n        console.error('failed to getSearchResults', bodyObj);\n        return reject(bodyObj.title);\n      }\n      const { results } = JSON.parse(body);\n      return resolve(results);\n    });\n  });\n}\n\nexport default getSearchResults;\n","import request from 'request';\nimport URL_PREFIX from '../helpers/url';\n\nasync function subscribeRestaurant(restaurantName, restaurantId, location, provider, token) {\n  const body = JSON.stringify({\n    restaurantName,\n    restaurantId,\n    location\n  });\n\n  return new Promise((resolve, reject) => {\n    const options = {\n      method: 'POST',\n      url: `${URL_PREFIX}/subscriptions`,\n      headers: {\n        provider,\n        'x-auth-token': token,\n        'Content-Type': 'application/json',\n      },\n      body,\n    };\n\n    request(options, (error, response, body) => {\n      if (error || response.statusCode >= 400) {\n        if (error) {\n          console.error('request cb error.failed to get subscribeRestaurant', error);\n          return reject('failed to get subscribeRestaurant');\n        }\n        const bodyObj = typeof body === object ? body : JSON.parse(body);\n        console.error('failed to subscribeRestaurant data', bodyObj);\n        return reject(bodyObj.title);\n      }\n      const parsedBody = JSON.parse(body);\n      console.log('subscribeRestaurant, parsedBody',parsedBody)\n      localStorage.setItem('email', parsedBody.userContext.email);\n      return resolve(parsedBody.subscriptions);\n    });\n  });\n}\n\nexport default subscribeRestaurant;\n","import request from 'request';\nimport URL_PREFIX from '../helpers/url';\n\nasync function unsubscribeRestaurant(restaurantName, restaurantId, location, provider, token) {\n  const body = JSON.stringify({\n    restaurantName,\n    restaurantId,\n    location,\n  });\n\n  return new Promise((resolve, reject) => {\n    const options = {\n      method: 'POST',\n      url: `${URL_PREFIX}/unsubscribe`,\n      headers: {\n        provider,\n        'x-auth-token': token,\n        'Content-Type': 'application/json',\n      },\n      body,\n    };\n\n    request(options, (error, response, body) => {\n      if (error || response.statusCode >= 400) {\n        if (error) {\n          console.error('request cb error.failed to get unsubscribeRestaurant', error);\n          return reject('failed to get unsubscribeRestaurant');\n        }\n        const bodyObj = typeof body === object ? body : JSON.parse(body);\n        console.error('failed to unsubscribeRestaurant data', bodyObj);\n        return reject(bodyObj.title);\n      }\n      const parsedBody = JSON.parse(body);\n      console.log('unsubscribeRestaurant, parsedBody',parsedBody)\n      localStorage.setItem('email', parsedBody.userContext.email);\n      return resolve(parsedBody.subscriptions);\n    });\n  });\n}\n\nexport default unsubscribeRestaurant;\n","import request from 'request';\nimport URL_PREFIX from \"../helpers/url\";\n\nasync function getLocationData(lat, lon) {\n  return new Promise((resolve, reject) => {\n    const options = {\n      method: 'GET',\n      url: `${URL_PREFIX}/location-address?lat=${lat}&lon=${lon}`,\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    };\n\n    request(options, (error, response, body) => {\n      if (error || response.statusCode >= 400) {\n        if (error) {\n          console.error('request cb error.failed to getLocationData', error);\n          return reject('failed to get getLocationData');\n        }\n        const bodyObj = JSON.parse(body);\n        console.error('failed to getLocationData', bodyObj);\n        return reject(bodyObj.title);\n      }\n      console.log('body type', typeof body)\n      console.log('body ',  body)\n      const { address } = JSON.parse(body);\n      return resolve(address);\n    });\n  });\n}\n\nexport default getLocationData;\n","import React from 'react';\nconst isMobile = ( /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent));\n\nconst Restaurant = (props) => {\n    const offline = !props.isOpen;\n    const subscriptionPage = !props.searchPage;\n    return <div key={`rest_${props.searchPage}_${props.restaurantId}`} className={`col-xs-6 restaurant-result-div ${offline ?'offline':''} ${ isMobile ? 'mobile-width' : ''}`} onClick={()=> offline && props.searchPage ? props.subscribe(props.title, props.restaurantId) : subscriptionPage ? props.unsubscribe(props.title, props.restaurantId) : ()=>{}}>\n        <div> <img src={props.image}/></div>\n        <div className=\"rest-data\">\n            <div className=\"restaurant-title\">{props.title}</div>\n            <div className=\"restaurant-short-description\">{props.shortDescription}</div>\n\n            <div className=\"restaurant-address\">{props.address}</div>\n            {props.overlay && props.overlay.length ? <div className=\"overlay\">{props.overlay}</div> : <span></span>}\n            {offline && props.searchPage ? <div className=\"action-prompt\">לחץ לרישום</div>: <span></span> }\n            {subscriptionPage  ? <div className=\"action-prompt\">להסרת רישום</div>: <span></span> }\n            {props.subscriber ? <div>\n                <div> { props.subscriber.firstName} { props.subscriber.familyName}</div>\n                <div className=\"email-data\">({props.subscriber.email})</div>\n                <div> <img src={ props.subscriber.imageUrl}/></div>\n            </div>:<div></div>}\n        </div>\n    </div>\n}\n\nexport default Restaurant;\n","import React from 'react'\nimport { useAlert } from 'react-alert'\n\nconst ShowAlert = (props) => {\n    const alert = useAlert();\n    const {message, level = 'error'} = props;\n    setTimeout(()=>{\n            alert[level](message);\n            console.log('alert attributes', Object.keys(alert))\n    },1);\n    return (\n        <div/>\n    )\n}\n\nexport default ShowAlert;\n","import React, { Component } from 'react';\nimport getSubscriptions from '../actions/getSubscriptions';\nimport FacebookLogin from  'react-facebook-login/dist/facebook-login-render-props';\nconst GOOGLE_CLIENT_ID= '79744445247-r6hecpeic6csggbl5c40isiqfshf15l7.apps.googleusercontent.com';\nconst FACEBOOK_APP_ID= '4683699325055690';\nimport { GoogleLogin } from 'react-google-login';\n\nclass LoginPage extends Component {\n\n    performLogin = async (provider, token) => {\n        try{\n            const {subscriptions, userContext} = await getSubscriptions(provider, token);\n            this.props.setState({ subscriptions, email: userContext.email, thinking:false });\n            const issueDate  = new Date();\n            localStorage.setItem('authData', JSON.stringify({provider, token, issueDate }));\n            localStorage.setItem('email', userContext.email);\n            this.props.onLoggedIn();\n        } catch(error) {\n            localStorage.removeItem('authData');\n            console.log('error', error)\n            this.props.showAlert('ההתחברות נכשלה', 'error');\n            this.props.setState({ thinking:false });\n        }\n    };\n\n    googleResponse = (response) => {\n        if (response.accessToken){\n            this.performLogin('google', response.accessToken);\n        }else{\n            console.error('google login failure');\n        }\n\n    };\n    facebookResponse = (response) => {\n        if (response.accessToken){\n            this.performLogin('facebook', response.accessToken);\n        }else{\n            console.error('facebook login failure');\n        }\n\n    };\n    render() {//setState, onLoggedIn\n            return <div id=\"login-page\">\n                <div id=\"login-page-header\">\n                    התחברות\n                </div>\n                <div id=\"login-body\">\n                    <div>\n                        <GoogleLogin\n                        clientId={GOOGLE_CLIENT_ID}\n                        onSuccess={this.googleResponse}\n                        onFailure={this.onLoginFailure}\n                        render={renderProps => (\n                            <div className=\"login-button login-button-google\" onClick={renderProps.onClick}> התחבר באמצעות גוגל</div>\n                        )}\n                    />\n                    </div>\n                    <div>\n                        <FacebookLogin\n                        disableMobileRedirect={true}\n                        appId={FACEBOOK_APP_ID}\n                        autoLoad={false}\n                        fields=\"name,email\"\n                        callback={this.facebookResponse}\n                        render={renderProps => (\n                            <div id=\"fbButton\" className=\"login-button login-button-fb\" onClick={renderProps.onClick}> התחבר באמצעות פייסבוק</div>\n                        )}/>\n                    </div>\n                </div>\n                <div id=\"explained\">\n                    <div id=\"explained-header\">\n                        <hr/>\n                        ככה זה עובד:\n                        <hr/>\n                    </div>\n                    <div className=\"row\">\n                        <div className=\"col-xs-4 \">\n                            <div className=\"explained-sub-header\">\n                                כשמחפשים מסעדה בוולט\n                            </div>\n                            <div className=\"explained-sub-header\">\n                                 היא לפעמים סגורה\n                            </div>\n                            <div >\n                                <img src=\"./wolt1.jpeg\"/>\n                            </div>\n                        </div>\n                        <div className=\"col-xs-4 \">\n                            <div className=\"explained-sub-header\">\n                                אבל אם נכנסים רואים שזה רק זמני\n                            </div>\n                            <div >\n                                <img src=\"./wolt2.jpeg\"/>\n                            </div>\n                        </div>\n                        <div className=\"col-xs-4 \">\n                            <div className=\"explained-sub-header\">\n                                אז מחפשים את המסעדה פה באתר\n                            </div>\n                            <div className=\"explained-sub-header\">\n                                ונרשמים לעדכון עבורה\n                            </div>\n                            <div >\n                                <img src=\"./wolt3.jpeg\"/>\n                            </div>\n                        </div>\n                        <div className=\"col-xs-4 \">\n                            <div className=\"explained-sub-header\">\n                                וכשהמסעדה נפתחת מקבלים עדכון במייל\n                            </div>\n\n                            <div >\n                                <img src=\"./wolt4.jpeg\"/>\n                            </div>\n                        </div>\n                        <div className=\"col-xs-4 \">\n                            <div className=\"explained-sub-header\">\n                                ואז נכנסים שוב ומזמינים רגיל דרך הוולט\n                            </div>\n                            <div >\n                                <img src=\"./wolt5.jpeg\"/>\n                            </div>\n                        </div>\n                        <div className=\"col-xs-4 \">\n                            <div className=\"explained-sub-header\">\n                                האתר לא קשור בשום צורה לחברת וולט,\n                            </div>\n                            <div className=\"explained-sub-header\">\n                                וכנראה יירד כשהם יתמכו באפשרות הזאת בעצמם\n                            </div>\n                            <div className=\"explained-sub-header email-address\">\n                                green.gilad@gmail.com\n                            </div>\n\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n    }\n}\n\nexport default LoginPage;\n\n","import React, { Component } from 'react';\n\nclass SearchTab extends Component {\n    constructor() {\n        super();\n        const searchRestaurantValue = localStorage.getItem('searchRestaurantValue') || '';\n        this.state = {\n            searchRestaurantValue,\n        };\n    }\n    onSearchRestaurantValueChange = (event) => {\n        this.setState({ searchRestaurantValue: event.target.value });\n    }\n    render() {\n        return  <div>\n            <div id=\"search-restaurant-div\">\n                <input type=\"text\" id=\"search-restaurant-input\" value={this.state.searchRestaurantValue} onChange={this.onSearchRestaurantValueChange} onKeyDown={(e)=>{\n                    console.log('e.key',e.key)\n                    if (e.key === 'Enter') {\n                        this.props.search(this.state.searchRestaurantValue)\n                    }\n                }}/>\n                <button id=\"search-restaurant-button\"  onClick={()=>this.props.search(this.state.searchRestaurantValue)} disabled={this.state.searchRestaurantValue.length === 0}>חיפוש</button>\n            </div>\n            <div id=\"my-address-div\">\n                {this.props.myAddress ? <span id=\"address-info-text\">חיפוש על פי הכתובת: {this.props.myAddress}  </span> : <span></span> }\n                {this.props.myAddress ? <span id=\"reset-address\" onClick={this.props.onAddressReset}>אפס</span> : <span></span>}\n            </div>\n            <div id=\"search-results\">\n                { this.props.searchWasClicked ? <div>\n                    <span className=\"spaced-span\">  נמצאו</span>\n                    {this.props.results.length}\n\n                    <span className=\"spaced-span\">  תוצאות</span>\n                </div> : <div></div>}\n                <div className=\"row\">\n                    {\n                        this.props.results.map((result) =>{\n                            const {title, image: {url: image}, overlay, track_id: restaurantId, venue: { address, short_description}, isOpen }= result;\n                            return this.props.getRestaurantDiv(title, short_description, image, overlay,restaurantId, address, isOpen, true);\n                        })\n                    }\n                </div>\n            </div>\n        </div>\n\n    }\n}\n\nexport default SearchTab;\n\n","import React, { Component } from 'react';\n\nclass SubscriptionsTab extends Component {\n\n    render() {\n        const subscriptionsResults = this.props.subscriptions;\n        let subscriptionsDivs = <div></div>;\n        if (subscriptionsResults.length > 0) {\n\n            const subscriptionsHasSubscriberInfo = subscriptionsResults[0].subscriber;\n            const subscriptions = subscriptionsHasSubscriberInfo\n                ? subscriptionsResults.sort((subscriptionA, subscriptionB)=>{\n                    if (subscriptionA.isAdmin) return -1;\n                    if (subscriptionB.isAdmin) return 1;\n                    return 0;\n                }) : subscriptionsResults;\n\n            subscriptionsDivs = subscriptions.map(subscription =>{\n                const { restaurantName: title, restaurantImage: image, restaurantId, restaurantAddress: address, subscriber, email  } = subscription;\n                if (subscriber){\n                    subscriber.isAdmin = subscription.isAdmin;\n                }\n                return this.props.getRestaurantDiv(title,'', image, null,restaurantId, address, false, false, subscriber, email);\n            })\n        }\n        return <div>\n            <div  id=\"subscriptions-results\">\n                <span className=\"spaced-span\">  נמצאו</span>\n                {subscriptionsResults.length}\n            </div>\n            <div className=\"row\">\n                {subscriptionsDivs}\n            </div>\n        </div>\n    }\n}\n\nexport default SubscriptionsTab;\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { transitions, positions, Provider as AlertProvider } from 'react-alert';\nimport AlertTemplate from 'react-alert-template-basic';\n\nimport './style/app.css';\n\nconst options = {\n    // you can also just use 'bottom center'\n    position: positions.BOTTOM_CENTER,\n    timeout: 3000,\n    offset: '30px',\n    // you can also just use 'scale'\n    transition: transitions.SCALE\n}\n\nconst Root = () => (\n    <AlertProvider template={AlertTemplate} {...options}>\n        <App />\n    </AlertProvider>\n)\n\n\nReactDOM.render(\n    <Root/>,\n  document.getElementById('root')\n);\n","const URL_PREFIX = window.location.origin.includes('localhost') ? 'https://wolt-wrapper.herokuapp.com' : window.location.origin;\n\nexport default URL_PREFIX\n","\nimport request from 'request';\nimport URL_PREFIX from '../helpers/url';\n\nasync function getSubscriptions(provider, token) {\n  return new Promise((resolve, reject) => {\n    const options = {\n      method: 'GET',\n      url: `${URL_PREFIX}/subscriptions`,\n      headers: {\n        provider,\n        'x-auth-token': token,\n        'Content-Type': 'application/json',\n      }\n    };\n\n    request(options, (error, response, body) => {\n      if (error || response.statusCode >= 400) {\n        if (error) {\n          console.error('request cb error.failed to get getSubscriptions', error);\n          return reject('failed to get getSubscriptions');\n        }\n        const bodyObj = typeof body === 'object' ? body : JSON.parse(body);\n        console.error('failed to getSubscriptions data', bodyObj);\n        return reject(bodyObj.title);\n      }\n      const parsedBody = JSON.parse(body);\n      return resolve(parsedBody);\n    });\n  });\n}\n\nexport default getSubscriptions;\n"],"sourceRoot":""}